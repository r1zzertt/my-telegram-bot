from aiogram.types import Message
from keyboards import node_keyboard
from state import get_user_state, wait_for_voice
from inventory import add_item, inventory_text, remove_item

# =====================
# –í–°–ï –°–¶–ï–ù–´
# =====================

NODES = {

    # =====================
    # –í–°–¢–£–ü–õ–ï–ù–ò–ï
    # =====================
    "start": {
        "text": (
            "üåô –í–µ—á–µ—Ä –±—ã–ª —Ç—ë–ø–ª—ã–º.\n\n"
            "–ì–æ—Ä–æ–¥ —É–∂–µ –Ω–∞—á–∏–Ω–∞–ª –∑–∞—Å—ã–ø–∞—Ç—å,\n"
            "–∞ —Ç—ã –≤—Å—ë –µ—â—ë —à–ª–∞ ‚Äî –±–µ–∑ —Ü–µ–ª–∏,\n"
            "–ø—Ä–æ—Å—Ç–æ –ø–æ–∑–≤–æ–ª—è—è –Ω–æ–≥–∞–º –≤–µ—Å—Ç–∏ —Ç–µ–±—è.\n\n"
            "–ü–∞—Ä–∫ –≤—Å—Ç—Ä–µ—Ç–∏–ª —Ç–∏—à–∏–Ω–æ–π.\n"
            "–§–æ–Ω–∞—Ä–∏ –∑–∞–≥–æ—Ä–∞–ª–∏—Å—å –æ–¥–∏–Ω –∑–∞ –¥—Ä—É–≥–∏–º,\n"
            "–±—É–¥—Ç–æ –ø—Ä–æ–≤–µ—Ä—è—è ‚Äî —Ç—ã –∑–¥–µ—Å—å."
        ),
        "actions": {
            "üåô –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –ø—É—Ç—å": "node:alley_walk"
        }
    },

    "alley_walk": {
        "text": (
            "–ê–ª–ª–µ—è –±—ã–ª–∞ –ø–æ—á—Ç–∏ –ø—É—Å—Ç–æ–π.\n\n"
            "–õ–∏—Å—Ç—å—è —Ç–∏—Ö–æ —à—É—Ä—à–∞–ª–∏ –ø–æ–¥ –Ω–æ–≥–∞–º–∏,\n"
            "–≤–æ–∑–¥—É—Ö –ø–∞—Ö –≤–ª–∞–∂–Ω–æ–π –∑–µ–º–ª—ë–π –∏ —á–µ–º-—Ç–æ –∑–Ω–∞–∫–æ–º—ã–º.\n\n"
            "–ù–∞ –º–≥–Ω–æ–≤–µ–Ω–∏–µ –ø–æ–∫–∞–∑–∞–ª–æ—Å—å,\n"
            "—á—Ç–æ —ç—Ç–æ—Ç –≤–µ—á–µ—Ä ‚Äî –≤–∞–∂–Ω–µ–µ, —á–µ–º –∫–∞–∂–µ—Ç—Å—è."
        ),
        "actions": {
            "üö∂‚Äç‚ôÄÔ∏è –ò–¥—Ç–∏ –¥–∞–ª—å—à–µ": "node:alley_noise"
        }
    },

    "alley_noise": {
        "text": (
            "–¢—ã —Å–¥–µ–ª–∞–ª–∞ –µ—â—ë –Ω–µ—Å–∫–æ–ª—å–∫–æ —à–∞–≥–æ–≤.\n\n"
            "–ò –≤–¥—Ä—É–≥ ‚Äî\n"
            "—Ç—Ä–µ—Å–∫ –≤–µ—Ç–æ–∫ –≤ –∫—É—Å—Ç–∞—Ö —Å–ø—Ä–∞–≤–∞.\n\n"
            "–ó–≤—É–∫ –±—ã–ª –Ω–µ —Ä–µ–∑–∫–∏–π,\n"
            "—Å–∫–æ—Ä–µ–µ‚Ä¶ –ø—Ä–∏–≥–ª–∞—à–∞—é—â–∏–π."
        ),
        "actions": {
            "üëÄ –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤ –∫—É—Å—Ç—ã": "node:bushes",
            "üö∂‚Äç‚ôÄÔ∏è –°–¥–µ–ª–∞—Ç—å –≤–∏–¥, —á—Ç–æ –Ω–µ –∑–∞–º–µ—Ç–∏–ª–∞": "node:walk_past"
        }
    },

    # =====================
    # –ü–ò–°–¨–ú–û
    # =====================
    "bushes": {
        "text": (
            "–¢—ã –æ—Å—Ç–æ—Ä–æ–∂–Ω–æ —Ä–∞–∑–¥–≤–∏–≥–∞–µ—à—å –∫—É—Å—Ç—ã.\n\n"
            "–í–Ω—É—Ç—Ä–∏ ‚Äî –Ω–∏—á–µ–≥–æ –ø—É–≥–∞—é—â–µ–≥–æ.\n"
            "–¢–æ–ª—å–∫–æ —Å—Ç–∞—Ä–∞—è —Å–∫–∞–º–µ–π–∫–∞.\n\n"
            "–ò –Ω–∞ –Ω–µ–π ‚Äî –∫–æ–Ω–≤–µ—Ä—Ç.\n\n"
            "–û–Ω –≤—ã–≥–ª—è–¥–∏—Ç —Ç–∞–∫,\n"
            "–±—É–¥—Ç–æ –∂–¥–∞–ª –∏–º–µ–Ω–Ω–æ —Ç–µ–±—è."
        ),
        "actions": {
            "‚úâÔ∏è –í–∑—è—Ç—å –∫–æ–Ω–≤–µ—Ä—Ç": "node:letter_take"
        }
    },

    "letter_take": {
        "text": (
            "–ë—É–º–∞–≥–∞ —Ç—ë–ø–ª–∞—è.\n\n"
            "–ù–∞ –∫–æ–Ω–≤–µ—Ä—Ç–µ –Ω–µ—Ç –∏–º–µ–Ω–∏.\n"
            "–¢–æ–ª—å–∫–æ –∫–æ—Ä–æ—Ç–∫–∞—è —Ñ—Ä–∞–∑–∞:\n\n"
            "¬´–ï—Å–ª–∏ —Ç—ã –∑–¥–µ—Å—å ‚Äî –∑–Ω–∞—á–∏—Ç, —Ç—ã –≥–æ—Ç–æ–≤–∞¬ª."
        ),
        "actions": {
            "üìñ –û—Ç–∫—Ä—ã—Ç—å –ø–∏—Å—å–º–æ": "node:letter_read"
        }
    },

    "letter_read": {
        "text": (
            "–ü–∏—Å—å–º–æ –Ω–∞–ø–∏—Å–∞–Ω–æ –∞–∫–∫—É—Ä–∞—Ç–Ω—ã–º –ø–æ—á–µ—Ä–∫–æ–º.\n\n"
            "¬´–ò–Ω–æ–≥–¥–∞ –ø—É—Ç—å –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è\n"
            "–Ω–µ —Ç–æ–≥–¥–∞, –∫–æ–≥–¥–∞ —Ç—ã –∏—â–µ—à—å,\n"
            "–∞ –∫–æ–≥–¥–∞ –ø–æ–∑–≤–æ–ª—è–µ—à—å —Å–µ–±–µ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è.\n\n"
            "–ü—Ä–æ–π–¥–∏ –¥–∞–ª—å—à–µ.\n"
            "–¢–µ–±—è –∂–¥—É—Ç.¬ª"
        ),
        "actions": {
            "üåô –£–±—Ä–∞—Ç—å –ø–∏—Å—å–º–æ –∏ –∏–¥—Ç–∏ –¥–∞–ª—å—à–µ": "node:cat_start"
        }
    },

    "walk_past": {
        "text": (
            "–¢—ã –ø—Ä–æ—Ö–æ–¥–∏—à—å –º–∏–º–æ.\n\n"
            "–ù–æ –æ—â—É—â–µ–Ω–∏–µ –Ω–µ –æ—Ç–ø—É—Å–∫–∞–µ—Ç.\n\n"
            "–ë—É–¥—Ç–æ –∫—Ç–æ-—Ç–æ —Ç–∏—Ö–æ —Å–∫–∞–∑–∞–ª:\n"
            "¬´–¢—ã –≤—Å—ë –∂–µ –≤–µ—Ä–Ω—ë—à—å—Å—è¬ª."
        ),
        "actions": {
            "üîô –í–µ—Ä–Ω—É—Ç—å—Å—è": "node:bushes"
        }
    },

    # =====================
    # –ö–û–¢
    # =====================
    "cat_start": {
        "text": (
            "–ß—É—Ç—å –¥–∞–ª—å—à–µ, –∑–∞ –ø–æ–≤–æ—Ä–æ—Ç–æ–º,\n"
            "—Å—Ç–æ–∏—Ç —Å—Ç–∞—Ä–∞—è –±–µ—Å–µ–¥–∫–∞.\n\n"
            "–í–Ω—É—Ç—Ä–∏ ‚Äî –∫–æ—Ç.\n\n"
            "–û–Ω —Å–º–æ—Ç—Ä–∏—Ç –Ω–∞ —Ç–µ–±—è –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ.\n"
            "–°–ª–∏—à–∫–æ–º –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ.\n\n"
            "‚Äî –¢—ã –ø—Ä–∏—à–ª–∞ –Ω–µ —Å–ª—É—á–∞–π–Ω–æ, ‚Äî\n"
            "–≥–æ–≤–æ—Ä–∏—Ç –æ–Ω —Å–ø–æ–∫–æ–π–Ω–æ."
        ),
        "actions": {
            "üåô –°–ª—É—à–∞—Ç—å –∫–æ—Ç–∞": "node:cat_talk_1"
        }
    },

    "cat_talk_1": {
        "text": (
            "‚Äî –ù–µ –±–æ–π—Å—è.\n"
            "–Ø –∑–¥–µ—Å—å –Ω–µ –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –≤–µ—Å—Ç–∏.\n\n"
            "–Ø –∑–¥–µ—Å—å, —á—Ç–æ–±—ã —Å–ø—Ä–æ—Å–∏—Ç—å.\n\n"
            "–ù–µ–∫–æ—Ç–æ—Ä—ã–µ –≤–æ–ø—Ä–æ—Å—ã\n"
            "–º–µ–Ω—è—é—Ç –±–æ–ª—å—à–µ, —á–µ–º –æ—Ç–≤–µ—Ç—ã."
        ),
        "actions": {
            "üêæ –ö–∏–≤–Ω—É—Ç—å": "node:cat_offer"
        }
    },

    "cat_offer": {
        "text": (
            "–ö–æ—Ç –ø—Ä–∏—â—É—Ä–∏–≤–∞–µ—Ç—Å—è.\n\n"
            "‚Äî –Ø –∑–∞–¥–∞–º —Ç–µ–±–µ –∑–∞–≥–∞–¥–∫—É.\n"
            "–ï—Å–ª–∏ –æ—Ç–≤–µ—Ç–∏—à—å ‚Äî\n"
            "–ø—É—Ç—å –æ—Ç–∫—Ä–æ–µ—Ç—Å—è –¥–∞–ª—å—à–µ.\n\n"
            "–ï—Å–ª–∏ –Ω–µ—Ç ‚Äî\n"
            "—Ç—ã –≤—Å—ë —Ä–∞–≤–Ω–æ —É–π–¥—ë—à—å –æ—Ç—Å—é–¥–∞ —á—É—Ç—å –¥—Ä—É–≥–æ–π.\n\n"
            "–¢—ã —Å–æ–≥–ª–∞—Å–Ω–∞?"
        ),
        "actions": {
            "‚ù§Ô∏è –°–æ–≥–ª–∞—Å–∏—Ç—å—Å—è": "node:cat_riddle",
            "üö∂‚Äç‚ôÄÔ∏è –û—Ç–∫–∞–∑–∞—Ç—å—Å—è –∏ —É–π—Ç–∏": "node:fog_start"
        }
    },

    "cat_riddle": {
        "text": (
            "‚Äî –°–∫–∞–∂–∏ –º–Ω–µ‚Ä¶\n\n"
            "–ß—Ç–æ –Ω–µ–ª—å–∑—è —É–¥–µ—Ä–∂–∞—Ç—å —Ä—É–∫–∞–º–∏,\n"
            "–Ω–æ –º–æ–∂–Ω–æ –ø–æ–¥–∞—Ä–∏—Ç—å,\n"
            "–∏ —á–µ–º –±–æ–ª—å—à–µ –æ—Ç–¥–∞—ë—à—å ‚Äî\n"
            "—Ç–µ–º –±–æ–ª—å—à–µ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è?"
        ),
        "actions": {
            "‚ù§Ô∏è –õ—é–±–æ–≤—å": "node:cat_hub",
            "‚è≥ –í—Ä–µ–º—è": "node:cat_wrong",
            "üí° –°–≤–µ—Ç": "node:cat_wrong"
        }
    },

    "cat_wrong": {
        "text": (
            "–ö–æ—Ç –º–µ–¥–ª–µ–Ω–Ω–æ –∫–∞—á–∞–µ—Ç –≥–æ–ª–æ–≤–æ–π.\n\n"
            "‚Äî –ü–æ–¥—É–º–∞–π –Ω–µ –≥–æ–ª–æ–≤–æ–π.\n"
            "–ü–æ–¥—É–º–∞–π —Å–µ—Ä–¥—Ü–µ–º."
        ),
        "actions": {
            "üîÅ –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –µ—â—ë —Ä–∞–∑": "node:cat_riddle"
        }
    },

   "cat_hub": {
    "text": (
        "–ö–æ—Ç –º—è–≥–∫–æ –æ–ø—É—Å–∫–∞–µ—Ç—Å—è –Ω–∞ —Å–∫–∞–º–µ–π–∫—É —Ä—è–¥–æ–º.\n\n"
        "‚Äî –¢—ã –º–æ–∂–µ—à—å –Ω–µ —Å–ø–µ—à–∏—Ç—å, ‚Äî –≥–æ–≤–æ—Ä–∏—Ç –æ–Ω.\n"
        "‚Äî –ó–¥–µ—Å—å —Ä–µ–¥–∫–æ –∫—É–¥–∞-—Ç–æ –æ–ø–∞–∑–¥—ã–≤–∞—é—Ç.\n\n"
        "–û–Ω —Å–º–æ—Ç—Ä–∏—Ç –Ω–∞ —Ç–µ–±—è –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ,\n"
        "–Ω–æ –±–µ–∑ –¥–∞–≤–ª–µ–Ω–∏—è.\n\n"
        "‚Äî –°–ø—Ä–∞—à–∏–≤–∞–π. –ò–ª–∏ –ø—Ä–æ—Å—Ç–æ –±—É–¥—å."
    ),
    "actions": {
        "üêæ –ü–æ–≥–ª–∞–¥–∏—Ç—å –∫–æ—Ç–∞": "cat_pet",
        "üå≤ –°–ø—Ä–æ—Å–∏—Ç—å –æ –ø–∞—Ä–∫–µ": "cat_park",
        "üí≠ –°–ø—Ä–æ—Å–∏—Ç—å –æ –ø—É—Ç–∏": "cat_path",
        "‚û°Ô∏è –ü–æ–π—Ç–∏ –¥–∞–ª—å—à–µ": "node:fog_start"
    }
},

    # =====================
    # –ê–ö–¢ 2 ‚Äî –¢–£–ú–ê–ù –ò –§–û–ù–ê–†–ò
    # =====================

    "fog_start": {
        "text": (
            "–¢—ã –æ—Ç—Ö–æ–¥–∏—à—å –æ—Ç –±–µ—Å–µ–¥–∫–∏.\n\n"
            "–ö–æ—Ç –±–æ–ª—å—à–µ –Ω–µ –∏–¥—ë—Ç –∑–∞ —Ç–æ–±–æ–π.\n"
            "–ù–æ –µ–≥–æ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤–∏–µ –≤—Å—ë –µ—â—ë –æ—â—É—â–∞–µ—Ç—Å—è.\n\n"
            "–¢—Ä–æ–ø–∞ –≤–ø–µ—Ä–µ–¥–∏ —Ä–∞—Å—Ç–≤–æ—Ä—è–µ—Ç—Å—è –≤ —Ç—É–º–∞–Ω–µ.\n"
            "–û–Ω –Ω–µ –ø—É–≥–∞–µ—Ç.\n"
            "–û–Ω –∑–æ–≤—ë—Ç."
        ),
        "actions": {
            "üå´ –í–æ–π—Ç–∏ –≤ —Ç—É–º–∞–Ω": "node:fog_deep"
        }
    },

    "fog_deep": {
        "text": (
            "–¢—É–º–∞–Ω –æ–±–≤–æ–ª–∞–∫–∏–≤–∞–µ—Ç —Ç–µ–±—è –ø–æ–ª–Ω–æ—Å—Ç—å—é.\n\n"
            "–ó–≤—É–∫–∏ —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è —Ç–∏—à–µ.\n"
            "–ú–∏—Ä –±—É–¥—Ç–æ –æ—Ç—Å—Ç—É–ø–∞–µ—Ç.\n\n"
            "–û—Å—Ç–∞—ë—à—å—Å—è —Ç–æ–ª—å–∫–æ —Ç—ã\n"
            "–∏ —à–∞–≥–∏."
        ),
        "actions": {
            "üö∂‚Äç‚ôÄÔ∏è –°–¥–µ–ª–∞—Ç—å —à–∞–≥": "node:lanterns_appear"
        }
    },

    "lanterns_appear": {
        "text": (
            "–ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ –≤ —Ç—É–º–∞–Ω–µ –Ω–∞—á–∏–Ω–∞—é—Ç –ø–æ—è–≤–ª—è—Ç—å—Å—è —Ñ–æ–Ω–∞—Ä–∏.\n\n"
            "–û–Ω–∏ —Å—Ç–æ—è—Ç –¥–∞–ª–µ–∫–æ –¥—Ä—É–≥ –æ—Ç –¥—Ä—É–≥–∞.\n"
            "–ö–∞–∂–¥—ã–π —Å–≤–µ—Ç–∏—Ç –ø–æ-—Å–≤–æ–µ–º—É.\n\n"
            "–û–¥–∏–Ω –∏–∑ –Ω–∏—Ö ‚Äî —Ç–µ–ø–ª–µ–µ –æ—Å—Ç–∞–ª—å–Ω—ã—Ö."
        ),
        "actions": {
            "üí° –ü–æ–¥–æ–π—Ç–∏ –∫ —Ç—ë–ø–ª–æ–º—É —Å–≤–µ—Ç—É": "node:lantern_touch",
            "üö∂‚Äç‚ôÄÔ∏è –ü—Ä–æ–π—Ç–∏ –º–∏–º–æ": "node:lantern_ignore"
        }
    },

    "lantern_touch": {
        "text": (
            "–¢—ã –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—à—å—Å—è —Ä—è–¥–æ–º —Å —Ñ–æ–Ω–∞—Ä—ë–º.\n\n"
            "–°–≤–µ—Ç –º—è–≥–∫–æ –∫–∞—Å–∞–µ—Ç—Å—è –ª–∏—Ü–∞.\n"
            "–û–Ω –Ω–µ —Å–ª–µ–ø–∏—Ç.\n"
            "–û–Ω –±—É–¥—Ç–æ —É–∑–Ω–∞—ë—Ç —Ç–µ–±—è.\n\n"
            "–í–Ω—É—Ç—Ä–∏ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —Å–ø–æ–∫–æ–π–Ω–µ–µ."
        ),
        "actions": {
            "‚ú® –ö–æ—Å–Ω—É—Ç—å—Å—è —Å–≤–µ—Ç–∞": "node:light_accept"
        }
    },

    "light_accept": {
        "text": (
            "–ö–æ–≥–¥–∞ —Ç—ã –∫–∞—Å–∞–µ—à—å—Å—è —Å–≤–µ—Ç–∞,\n"
            "–æ–Ω –Ω–µ –∏—Å—á–µ–∑–∞–µ—Ç.\n\n"
            "–û–Ω —Å–ª–æ–≤–Ω–æ –≤–ø–∏—Ç—ã–≤–∞–µ—Ç—Å—è –≤–Ω—É—Ç—Ä—å.\n\n"
            "–¢—ã –Ω–∏—á–µ–≥–æ –Ω–µ –ø–æ–ª—É—á–∞–µ—à—å.\n"
            "–ù–æ —á—Ç–æ-—Ç–æ –ø–µ—Ä–µ—Å—Ç–∞—ë—Ç –±–æ–ª–µ—Ç—å."
        ),
        "actions": {
            "üåô –ò–¥—Ç–∏ –¥–∞–ª—å—à–µ": "node:after_lantern"
        }
    },

    "lantern_ignore": {
        "text": (
            "–¢—ã –ø—Ä–æ—Ö–æ–¥–∏—à—å –º–∏–º–æ —Ñ–æ–Ω–∞—Ä—è.\n\n"
            "–û–Ω –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Å–≤–µ—Ç–∏—Ç—å.\n"
            "–ù–µ –æ–±–∏–∂–∞–µ—Ç—Å—è.\n\n"
            "–í–æ–∑–º–æ–∂–Ω–æ,\n"
            "–æ–Ω –ø–æ–¥–æ–∂–¥—ë—Ç."
        ),
        "actions": {
            "üåô –ò–¥—Ç–∏ –¥–∞–ª—å—à–µ": "node:after_lantern"
        }
    },

    "after_lantern": {
        "text": (
            "–¢—É–º–∞–Ω –Ω–∞—á–∏–Ω–∞–µ—Ç —Ä–µ–¥–µ—Ç—å.\n\n"
            "–í–ø–µ—Ä–µ–¥–∏ —Å–ª—ã—à–µ–Ω –∑–≤—É–∫ –≤–æ–¥—ã.\n"
            "–ú–µ–¥–ª–µ–Ω–Ω—ã–π.\n"
            "–†–æ–≤–Ω—ã–π.\n\n"
            "–¢—ã –≤—ã—Ö–æ–¥–∏—à—å –∫ –º–æ—Å—Ç—É."
        ),
        "actions": {
            "üåâ –ü–æ–¥–æ–π—Ç–∏ –∫ –º–æ—Å—Ç—É": "node:bridge"
        }
    },
    
    # =====================
    # –ê–ö–¢ 3 ‚Äî –ú–û–°–¢ –ò –ê–ù–ì–ï–õ
    # =====================

    "bridge": {
        "text": (
            "–ú–æ—Å—Ç —Å—Ç–∞—Ä—ã–π.\n\n"
            "–î–æ—Å–∫–∏ —Å–∫—Ä–∏–ø—è—Ç –ø–æ–¥ –Ω–æ–≥–∞–º–∏,\n"
            "–Ω–æ –¥–µ—Ä–∂–∞—Ç.\n\n"
            "–í–æ–¥–∞ –≤–Ω–∏–∑—É —Ç–µ—á—ë—Ç –º–µ–¥–ª–µ–Ω–Ω–æ,\n"
            "–±—É–¥—Ç–æ –Ω–∏–∫—É–¥–∞ –Ω–µ —Å–ø–µ—à–∏—Ç.\n\n"
            "–ù–∞ —Å–µ—Ä–µ–¥–∏–Ω–µ –º–æ—Å—Ç–∞\n"
            "—Å—Ç–æ–∏—Ç —Å–∏–ª—É—ç—Ç."
        ),
        "actions": {
            "üå´ –ü–æ–¥–æ–π—Ç–∏ –±–ª–∏–∂–µ": "node:angel_appear"
        }
    },

    "angel_appear": {
        "text": (
            "–ö–æ–≥–¥–∞ —Ç—ã –ø–æ–¥—Ö–æ–¥–∏—à—å,\n"
            "—Å–∏–ª—É—ç—Ç —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —è—Å–Ω–µ–µ.\n\n"
            "–≠—Ç–æ –∞–Ω–≥–µ–ª.\n\n"
            "–ï–≥–æ –∫—Ä—ã–ª—å—è ‚Äî –Ω–µ –ø–µ—Ä—å—è.\n"
            "–°–∫–æ—Ä–µ–µ —Å–≤–µ—Ç,\n"
            "–∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏–Ω—è–ª —Ñ–æ—Ä–º—É.\n\n"
            "–û–Ω —Å–º–æ—Ç—Ä–∏—Ç –Ω–µ –≤ –≥–ª–∞–∑–∞.\n"
            "–û–Ω —Å–º–æ—Ç—Ä–∏—Ç –≥–ª—É–±–∂–µ."
        ),
        "actions": {
            "‚ú® –ó–∞–≥–æ–≤–æ—Ä–∏—Ç—å": "node:angel_talk_1"
        }
    },

    "angel_talk_1": {
        "text": (
            "‚Äî –¢—ã –¥–æ—à–ª–∞ —Å—é–¥–∞ —Å–∞–º–∞, ‚Äî\n"
            "–≥–æ–≤–æ—Ä–∏—Ç –æ–Ω —Ç–∏—Ö–æ.\n\n"
            "‚Äî –Ø –Ω–µ –ø—Ä–∏–≤—ë–ª —Ç–µ–±—è.\n"
            "–ò –∫–æ—Ç ‚Äî —Ç–æ–∂–µ.\n\n"
            "–ú—ã –ª–∏—à—å –Ω–∞–ø–æ–º–∏–Ω–∞–ª–∏,\n"
            "—á—Ç–æ —Ç—ã —É–º–µ–µ—à—å –∏–¥—Ç–∏."
        ),
        "actions": {
            "üåô –°–ª—É—à–∞—Ç—å –¥–∞–ª—å—à–µ": "node:angel_talk_2"
        }
    },

    "angel_talk_2": {
        "text": (
            "–û–Ω –ø–æ–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç—Å—è –∫ –≤–æ–¥–µ.\n\n"
            "‚Äî –õ—é–¥–∏ —á–∞—Å—Ç–æ –¥—É–º–∞—é—Ç,\n"
            "—á—Ç–æ –ø—É—Ç—å ‚Äî —ç—Ç–æ –≤—ã–±–æ—Ä.\n\n"
            "–ù–æ —á–∞—â–µ —ç—Ç–æ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ.\n\n"
            "–†–∞–∑—Ä–µ—à–µ–Ω–∏–µ —á—É–≤—Å—Ç–≤–æ–≤–∞—Ç—å.\n"
            "–†–∞–∑—Ä–µ—à–µ–Ω–∏–µ –Ω–µ –∑–Ω–∞—Ç—å."
        ),
        "actions": {
            "üí¨ –°–ø—Ä–æ—Å–∏—Ç—å –æ —Å–µ–±–µ": "node:angel_question_intro"
        }
    },

    # =====================
    # –ó–ê–ì–ê–î–ö–ê (–û–î–ù–ê)
    # =====================

    "angel_question_intro": {
        "text": (
            "–ê–Ω–≥–µ–ª —Å–Ω–æ–≤–∞ —Å–º–æ—Ç—Ä–∏—Ç –Ω–∞ —Ç–µ–±—è.\n\n"
            "‚Äî –Ø –∑–∞–¥–∞–º —Ç–µ–±–µ –æ–¥–∏–Ω –≤–æ–ø—Ä–æ—Å.\n\n"
            "–ù–µ –¥–ª—è —Ç–æ–≥–æ,\n"
            "—á—Ç–æ–±—ã –ø—Ä–æ–≤–µ—Ä–∏—Ç—å.\n\n"
            "–ê —á—Ç–æ–±—ã —Ç—ã —É—Å–ª—ã—à–∞–ª–∞ —Å–µ–±—è."
        ),
        "actions": {
            "üå´ –ö–∏–≤–Ω—É—Ç—å": "node:angel_riddle"
        }
    },

    "angel_riddle": {
        "text": (
            "‚Äî –ß—Ç–æ –æ—Å—Ç–∞—ë—Ç—Å—è —Å —Ç–æ–±–æ–π,\n"
            "–∫–æ–≥–¥–∞ –≤—Å—ë –≤–Ω–µ—à–Ω–µ–µ –∏—Å—á–µ–∑–∞–µ—Ç?\n\n"
            "–ö–æ–≥–¥–∞ —Ä–æ–ª–∏ —Å–Ω—è—Ç—ã.\n"
            "–ö–æ–≥–¥–∞ –æ–∂–∏–¥–∞–Ω–∏—è –æ—Ç–ø—É—â–µ–Ω—ã.\n\n"
            "–ß—Ç–æ –æ—Å—Ç–∞—ë—Ç—Å—è?"
        ),
        "actions": {
            "‚ù§Ô∏è –ß—É–≤—Å—Ç–≤–æ": "node:angel_answer_right",
            "üß† –ú—ã—Å–ª–∏": "node:angel_answer_soft",
            "üå´ –ü—É—Å—Ç–æ—Ç–∞": "node:angel_answer_soft"
        }
    },

    "angel_answer_soft": {
        "text": (
            "–ê–Ω–≥–µ–ª –º—è–≥–∫–æ —É–ª—ã–±–∞–µ—Ç—Å—è.\n\n"
            "‚Äî –≠—Ç–æ —Ç–æ–∂–µ —á–∞—Å—Ç—å –ø—É—Ç–∏.\n\n"
            "–ò–Ω–æ–≥–¥–∞ –º—ã –Ω–∞—á–∏–Ω–∞–µ–º\n"
            "–Ω–µ —Å –∏—Å—Ç–∏–Ω—ã,\n"
            "–∞ —Å —Ç–∏—à–∏–Ω—ã."
        ),
        "actions": {
            "üåô –ü–æ–¥—É–º–∞—Ç—å –µ—â—ë": "node:angel_riddle"
        }
    },

    "angel_answer_right": {
        "text": (
            "–û–Ω –∑–∞–∫—Ä—ã–≤–∞–µ—Ç –≥–ª–∞–∑–∞.\n\n"
            "‚Äî –î–∞.\n\n"
            "–ß—É–≤—Å—Ç–≤–æ ‚Äî —ç—Ç–æ —Ç–æ,\n"
            "—á—Ç–æ –Ω–µ –Ω—É–∂–Ω–æ –æ–±—ä—è—Å–Ω—è—Ç—å.\n\n"
            "–ò–º–µ–Ω–Ω–æ –æ–Ω–æ\n"
            "–∏ –≤–µ–¥—ë—Ç –¥–∞–ª—å—à–µ."
        ),
        "actions": {
            "‚ú® –°–¥–µ–ª–∞—Ç—å —à–∞–≥ –≤–ø–µ—Ä—ë–¥": "node:angel_farewell"
        }
    },

    # =====================
    # –ü–†–û–©–ê–ù–ò–ï
    # =====================

    "angel_farewell": {
        "text": (
            "–ê–Ω–≥–µ–ª –æ—Ç—Å—Ç—É–ø–∞–µ—Ç –≤ —Å–≤–µ—Ç.\n\n"
            "‚Äî –î–∞–ª—å—à–µ —è –Ω–µ –ø–æ–π–¥—É,\n"
            "–≥–æ–≤–æ—Ä–∏—Ç –æ–Ω.\n\n"
            "‚Äî –ù–æ —Ç—ã –ø–æ–π–¥—ë—à—å.\n\n"
            "–ò —ç—Ç–æ–≥–æ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ."
        ),
        "actions": {
    "üåô –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –ø—É—Ç—å": "node:after_angel"
        }
    },
    
    # =====================
    # –ê–ö–¢ 4 ‚Äî –¢–ï–ù–ò –ò –°–û–ú–ù–ï–ù–ò–ï
    # =====================

    "after_angel": {
        "text": (
            "–¢—ã –æ—Ç—Ö–æ–¥–∏—à—å –æ—Ç –º–æ—Å—Ç–∞.\n\n"
            "–°–∏–ª—É—ç—Ç –∞–Ω–≥–µ–ª–∞ –æ—Å—Ç–∞—ë—Ç—Å—è –ø–æ–∑–∞–¥–∏.\n"
            "–ò–ª–∏‚Ä¶ –µ–≥–æ —Ç–∞–º —É–∂–µ –Ω–µ—Ç?\n\n"
            "–¢—ã –æ–±–æ—Ä–∞—á–∏–≤–∞–µ—à—å—Å—è.\n\n"
            "–ú–æ—Å—Ç –ø—É—Å—Ç."
        ),
        "actions": {
            "üå´ –û—Å–º–æ—Ç—Ä–µ—Ç—å—Å—è": "node:doubt_start"
        }
    },

    "doubt_start": {
        "text": (
            "–¢—É–º–∞–Ω —Å–≥—É—â–∞–µ—Ç—Å—è.\n\n"
            "–§–æ–Ω–∞—Ä–∏, –∫–æ—Ç–æ—Ä—ã–µ —Ç—ã –≤–∏–¥–µ–ª–∞ —Ä–∞–Ω—å—à–µ,\n"
            "–±—É–¥—Ç–æ —Å—Ç–æ—è—Ç –Ω–µ —Ç–∞–º.\n\n"
            "–ò–ª–∏ —Ç—ã –ø—Ä–æ—Å—Ç–æ\n"
            "–Ω–µ –∑–∞–ø–æ–º–Ω–∏–ª–∞?"
        ),
        "actions": {
            "üí≠ –ü–æ–¥—É–º–∞—Ç—å": "node:doubt_thoughts"
        }
    },

    "doubt_thoughts": {
        "text": (
            "–ú—ã—Å–ª–∏ –ø—É—Ç–∞—é—Ç—Å—è.\n\n"
            "¬´–ê –±—ã–ª –ª–∏ –∫–æ—Ç?¬ª\n"
            "¬´–ë—ã–ª–æ –ª–∏ –ø–∏—Å—å–º–æ?¬ª\n"
            "¬´–ò–ª–∏ —ç—Ç–æ –≤—Å—ë ‚Äî\n"
            "–ø—Ä–æ—Å—Ç–æ —É—Å—Ç–∞–ª–æ—Å—Ç—å?¬ª"
        ),
        "actions": {
            "üåô –°–¥–µ–ª–∞—Ç—å —à–∞–≥ –≤–ø–µ—Ä—ë–¥": "node:shadow_path"
        }
    },

    "shadow_path": {
        "text": (
            "–î–æ—Ä–æ–∂–∫–∞ –≤–ø–µ—Ä–µ–¥–∏ —Ç–µ–º–Ω–µ–µ.\n\n"
            "–¢–µ–Ω–∏ –æ—Ç –¥–µ—Ä–µ–≤—å–µ–≤\n"
            "–¥–≤–∏–≥–∞—é—Ç—Å—è —Å–ª–∏—à–∫–æ–º –º–µ–¥–ª–µ–Ω–Ω–æ.\n\n"
            "–ò–ª–∏ —Å–ª–∏—à–∫–æ–º —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ\n"
            "—Å —Ç–≤–æ–∏–º–∏ —à–∞–≥–∞–º–∏."
        ),
        "actions": {
            "üåë –ü–æ–π—Ç–∏ —Ç—É–¥–∞": "node:shadow_deeper",
            "üîô –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ —Å–≤–µ—Ç—É": "node:shadow_retreat"
        }
    },

    "shadow_retreat": {
        "text": (
            "–¢—ã –¥–µ–ª–∞–µ—à—å —à–∞–≥ –Ω–∞–∑–∞–¥.\n\n"
            "–°–≤–µ—Ç –∫–∞–∂–µ—Ç—Å—è –±–µ–∑–æ–ø–∞—Å–Ω–µ–µ.\n\n"
            "–ù–æ —á—Ç–æ-—Ç–æ –≤–Ω—É—Ç—Ä–∏\n"
            "–Ω–µ–¥–æ–≤–æ–ª—å–Ω–æ.\n\n"
            "–ö–∞–∫ –±—É–¥—Ç–æ —Ç—ã\n"
            "–Ω–µ –∑–∞–∫–æ–Ω—á–∏–ª–∞ –º—ã—Å–ª—å."
        ),
        "actions": {
            "üåë –í—Å—ë-—Ç–∞–∫–∏ –ø–æ–π—Ç–∏": "node:shadow_deeper"
        }
    },

    "shadow_deeper": {
        "text": (
            "–¢—ã –≤—Ö–æ–¥–∏—à—å –≤ —Ç–µ–Ω—å.\n\n"
            "–ó–¥–µ—Å—å —Ç–∏—à–µ.\n"
            "–ó–¥–µ—Å—å –ø–ª–æ—Ç–Ω–µ–µ –≤–æ–∑–¥—É—Ö.\n\n"
            "–ò –≤–¥—Ä—É–≥ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –æ—â—É—â–µ–Ω–∏–µ,\n"
            "—á—Ç–æ –∑–∞ —Ç–æ–±–æ–π –Ω–∞–±–ª—é–¥–∞—é—Ç.\n\n"
            "–ù–µ –≥–ª–∞–∑–∞–º–∏.\n"
            "–ü–∞–º—è—Ç—å—é."
        ),
        "actions": {
            "üëÅ –ü—Ä–∏—Å–ª—É—à–∞—Ç—å—Å—è": "node:whisper"
        }
    },

    "whisper": {
        "text": (
            "–ì–¥–µ-—Ç–æ —Ä—è–¥–æ–º\n"
            "–ø–æ—á—Ç–∏ –Ω–µ—Å–ª—ã—à–Ω—ã–π —à—ë–ø–æ—Ç:\n\n"
            "¬´–¢—ã –Ω–µ –ø–æ—Ç–µ—Ä—è–ª–∞—Å—å.\n"
            "–¢—ã –ø—Ä–æ—Å—Ç–æ\n"
            "–ø–µ—Ä–µ—Å—Ç–∞—ë—à—å —É–±–µ–≥–∞—Ç—å¬ª."
        ),
        "actions": {
            "üåô –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å": "node:act5_start"
        }
    },

    "act5_intro": {
    "text": (
        "–¢–µ–Ω—å –Ω–µ –∏—Å—á–µ–∑–∞–µ—Ç.\n\n"
        "–û–Ω–∞ –∏–¥—ë—Ç —Ä—è–¥–æ–º.\n\n"
        "–ò —Ç—ã –ø–æ–Ω–∏–º–∞–µ—à—å:\n"
        "—ç—Ç–æ —Ç–æ–ª—å–∫–æ –Ω–∞—á–∞–ª–æ."
    ),
    "actions": {
        "üåô –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å": "node:act5_start"
    }
},

    # =====================
    # –ê–ö–¢ 5 ‚Äî –°–¢–ê–†–û–ï –î–ï–†–ï–í–û
    # =====================

    "act5_start": {
        "text": (
            "–¢—Ä–æ–ø–∞ –≤—ã–≤–æ–¥–∏—Ç —Ç–µ–±—è –Ω–∞ –Ω–µ–±–æ–ª—å—à—É—é –ø–æ–ª—è–Ω—É.\n\n"
            "–í –µ—ë —Ü–µ–Ω—Ç—Ä–µ —Å—Ç–æ–∏—Ç –¥–µ—Ä–µ–≤–æ.\n\n"
            "–°—Ç–∞—Ä–æ–µ.\n"
            "–¢–æ–ª—Å—Ç—ã–π —Å—Ç–≤–æ–ª –ø–æ–∫—Ä—ã—Ç —Ç—Ä–µ—â–∏–Ω–∞–º–∏.\n"
            "–í–µ—Ç–≤–∏ —É—Ö–æ–¥—è—Ç –≤ —Ç–µ–º–Ω–æ—Ç—É.\n\n"
            "–¢—ã —É–∂–µ –ø—Ä–æ—Ö–æ–¥–∏–ª–∞ –∑–¥–µ—Å—å.\n\n"
            "–ù–æ –¥–µ—Ä–µ–≤–∞ –∑–¥–µ—Å—å –Ω–µ –±—ã–ª–æ."
        ),
        "actions": {
            "üå≥ –ü–æ–¥–æ–π—Ç–∏ –∫ –¥–µ—Ä–µ–≤—É": "node:tree_awake"
        }
    },

    "tree_awake": {
        "text": (
            "–ö–æ–≥–¥–∞ —Ç—ã –ø–æ–¥—Ö–æ–¥–∏—à—å –±–ª–∏–∂–µ,\n"
            "—Å—Ç–≤–æ–ª —Ç–∏—Ö–æ —Å–∫—Ä–∏–ø–∏—Ç.\n\n"
            "‚Äî –¢—ã –¥–æ–ª–≥–æ —à–ª–∞, ‚Äî\n"
            "–≥–æ–≤–æ—Ä–∏—Ç –¥–µ—Ä–µ–≤–æ.\n\n"
            "–ì–æ–ª–æ—Å –º–µ–¥–ª–µ–Ω–Ω—ã–π.\n"
            "–ù–∏–∑–∫–∏–π.\n"
            "–ù–µ –≥—Ä–æ–º–∫–∏–π.\n\n"
            "‚Äî –Ø –Ω–µ –¥–∞—é –æ—Ç–≤–µ—Ç–æ–≤.\n"
            "–Ø —Ç–æ–ª—å–∫–æ —Å–ø—Ä–∞—à–∏–≤–∞—é."
        ),
        "actions": {
            "üåø –°–ª—É—à–∞—Ç—å": "node:tree_question_1"
        }
    },

    "tree_question_1": {
        "text": (
            "‚Äî –°–∫–∞–∂–∏ –º–Ω–µ,\n\n"
            "—á—Ç–æ –¥–ª—è —Ç–µ–±—è –ª—é–±–æ–≤—å?\n\n"
            "–ù–µ —Å–ª–æ–≤–æ.\n"
            "–ù–µ –æ–±—Ä–∞–∑.\n\n"
            "–ê —Ç–æ, —á—Ç–æ –æ—Å—Ç–∞—ë—Ç—Å—è,\n"
            "–∫–æ–≥–¥–∞ –≤—Å—ë –æ—Å—Ç–∞–ª—å–Ω–æ–µ —É—Ö–æ–¥–∏—Ç."
        ),
        "actions": {
            "‚ù§Ô∏è –ó–∞–±–æ—Ç–∞": "node:tree_reply_care",
            "üî• –°—Ç—Ä–∞—Å—Ç—å": "node:tree_reply_passion",
            "üåô –ü—Ä–∏–Ω—è—Ç–∏–µ": "node:tree_reply_accept"
        }
    },

    "tree_reply_care": {
        "text": (
            "–î–µ—Ä–µ–≤–æ –º–æ–ª—á–∏—Ç —á—É—Ç—å –¥–æ–ª—å—à–µ.\n\n"
            "‚Äî –ó–∞–±–æ—Ç–∞ ‚Äî —ç—Ç–æ –≤—ã–±–æ—Ä,\n"
            "–∫–æ—Ç–æ—Ä—ã–π —Å–æ–≤–µ—Ä—à–∞—é—Ç –∫–∞–∂–¥—ã–π –¥–µ–Ω—å.\n\n"
            "–î–∞–∂–µ –∫–æ–≥–¥–∞ —É—Å—Ç–∞–ª–∏."
        ),
        "actions": {
            "üå≥ –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å": "node:tree_question_2"
        }
    },

    "tree_reply_passion": {
        "text": (
            "–õ–∏—Å—Ç—å—è —Ç–∏—Ö–æ —à–µ–ª–µ—Å—Ç—è—Ç.\n\n"
            "‚Äî –°—Ç—Ä–∞—Å—Ç—å –≥—Ä–µ–µ—Ç.\n"
            "–ù–æ –æ–Ω–∞ —Ä–µ–¥–∫–æ —É–º–µ–µ—Ç –∂–¥–∞—Ç—å."
        ),
        "actions": {
            "üå≥ –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å": "node:tree_question_2"
        }
    },

    "tree_reply_accept": {
        "text": (
            "–í–µ—Ç–≤–∏ —Å–ª–µ–≥–∫–∞ –Ω–∞–∫–ª–æ–Ω—è—é—Ç—Å—è.\n\n"
            "‚Äî –ü—Ä–∏–Ω—è—Ç–∏–µ ‚Äî\n"
            "—Å–∞–º–∞—è —Ä–µ–¥–∫–∞—è —Ñ–æ—Ä–º–∞ –ª—é–±–≤–∏."
        ),
        "actions": {
            "üå≥ –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å": "node:tree_question_2"
        }
    },

    "tree_question_2": {
        "text": (
            "‚Äî –í—Ç–æ—Ä–æ–π –≤–æ–ø—Ä–æ—Å.\n\n"
            "–ï—Å–ª–∏ –ª—é–±–∏—Ç—å ‚Äî\n"
            "–∑–Ω–∞—á–∏—Ç –ª–∏ —ç—Ç–æ\n"
            "–æ—Å—Ç–∞–≤–∞—Ç—å—Å—è?"
        ),
        "actions": {
            "üö∂‚Äç‚ôÄÔ∏è –î–∞": "node:tree_answer_stay",
            "üå´ –ò–Ω–æ–≥–¥–∞ —É—Ö–æ–¥–∏—Ç—å": "node:tree_answer_leave",
            "ü§ç –ù–µ –≤—Å–µ–≥–¥–∞": "node:tree_answer_not_always"
        }
    },

    "tree_answer_stay": {
        "text": (
            "‚Äî –ò–Ω–æ–≥–¥–∞ –¥–∞.\n\n"
            "–ù–æ –Ω–µ –ª—é–±–æ–π —Ü–µ–Ω–æ–π."
        ),
        "actions": {
            "üå≥ –°–ª—É—à–∞—Ç—å –¥–∞–ª—å—à–µ": "node:tree_end"
        }
    },

    "tree_answer_leave": {
        "text": (
            "‚Äî –£—Ö–æ–¥ —Ç–æ–∂–µ –º–æ–∂–µ—Ç –±—ã—Ç—å —Ñ–æ—Ä–º–æ–π –∑–∞–±–æ—Ç—ã."
        ),
        "actions": {
            "üå≥ –°–ª—É—à–∞—Ç—å –¥–∞–ª—å—à–µ": "node:tree_end"
        }
    },

    "tree_answer_not_always": {
        "text": (
            "‚Äî –¢–æ–≥–¥–∞ —Ç—ã —É–∂–µ –∑–Ω–∞–µ—à—å –±–æ–ª—å—à–µ,\n"
            "—á–µ–º –¥—É–º–∞–µ—à—å."
        ),
        "actions": {
            "üå≥ –°–ª—É—à–∞—Ç—å –¥–∞–ª—å—à–µ": "node:tree_end"
        }
    },

    "tree_end": {
        "text": (
            "–î–µ—Ä–µ–≤–æ –∑–∞–º–æ–ª–∫–∞–µ—Ç.\n\n"
            "–¢—ã —á—É–≤—Å—Ç–≤—É–µ—à—å:\n"
            "–≤–æ–ø—Ä–æ—Å—ã –±—ã–ª–∏ –Ω–µ –¥–ª—è –Ω–µ–≥–æ.\n\n"
            "–ü–æ–ª—è–Ω–∞ –∫–∞–∂–µ—Ç—Å—è –¥—Ä—É–≥–æ–π.\n\n"
            "–ù–µ —Å–≤–µ—Ç–ª–µ–µ.\n"
            "–ù–æ —è—Å–Ω–µ–µ."
        ),
        "actions": {
            "‚û°Ô∏è –ò–¥—Ç–∏ –¥–∞–ª—å—à–µ": "node:act6_start"
        }
    },

    # =====================
    # –ê–ö–¢ 6 ‚Äî –ì–ù–û–ú–´ –ò –°–ú–ï–•
    # =====================

    "act6_start": {
        "text": (
            "–¢—Ä–æ–ø–∞ –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω–æ –º–µ–Ω—è–µ—Ç—Å—è.\n\n"
            "–¢—É–º–∞–Ω —Ä–µ–¥–µ–µ—Ç.\n"
            "–ó–µ–º–ª—è —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –º—è–≥–∫–æ–π.\n\n"
            "–¢—ã —Å–ª—ã—à–∏—à—å –∑–≤—É–∫.\n\n"
            "–°–º–µ—Ö.\n\n"
            "–ù–∞—Å—Ç–æ—è—â–∏–π.\n"
            "–ì—Ä–æ–º–∫–∏–π.\n"
            "–ß—É—Ç—å –Ω–µ–ª–µ–ø—ã–π."
        ),
        "actions": {
            "üëÇ –ü—Ä–∏—Å–ª—É—à–∞—Ç—å—Å—è": "node:gnome_noise"
        }
    },

    "gnome_noise": {
        "text": (
            "–ó–∞ —Ö–æ–ª–º–æ–º ‚Äî –¥–≤–∏–∂–µ–Ω–∏–µ.\n\n"
            "–ú–∞–ª–µ–Ω—å–∫–∏–µ —Ñ–∏–≥—É—Ä—ã –±–µ–≥–∞—é—Ç –ø–æ —Å–∫–ª–æ–Ω—É.\n"
            "–ö—Ç–æ-—Ç–æ –ø–∞–¥–∞–µ—Ç.\n"
            "–ö—Ç–æ-—Ç–æ –∫–∞—Ç–∞–µ—Ç—Å—è –≤–Ω–∏–∑ –Ω–∞ –¥–æ—Å–∫–µ.\n\n"
            "–ì–Ω–æ–º—ã.\n\n"
            "–û–Ω–∏ —Å–º–µ—é—Ç—Å—è —Ç–∞–∫,\n"
            "–±—É–¥—Ç–æ –º–∏—Ä –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –±—ã–ª —Ç—è–∂—ë–ª—ã–º."
        ),
        "actions": {
            "üò≥ –í—ã–π—Ç–∏ –∏–∑ —É–∫—Ä—ã—Ç–∏—è": "node:gnome_meet",
            "üåô –û—Å—Ç–∞—Ç—å—Å—è –Ω–∞–±–ª—é–¥–∞—Ç—å": "node:gnome_watch"
        }
    },

    "gnome_watch": {
        "text": (
            "–¢—ã —Å–º–æ—Ç—Ä–∏—à—å –∏–∑–¥–∞–ª–µ–∫–∞.\n\n"
            "–û–¥–∏–Ω –≥–Ω–æ–º –ø–∞–¥–∞–µ—Ç.\n"
            "–î—Ä—É–≥–æ–π —Ç—É—Ç –∂–µ –ø–æ–º–æ–≥–∞–µ—Ç –µ–º—É –ø–æ–¥–Ω—è—Ç—å—Å—è.\n\n"
            "‚Äî –ù–∏—á–µ–≥–æ!\n"
            "‚Äî –ó–∞—Ç–æ –≤–µ—Å–µ–ª–æ!\n\n"
            "–¢—ã –ª–æ–≤–∏—à—å —Å–µ–±—è –Ω–∞ —Ç–æ–º,\n"
            "—á—Ç–æ —É–ª—ã–±–∞–µ—à—å—Å—è."
        ),
        "actions": {
            "üôÇ –í—ã–π—Ç–∏ –∫ –Ω–∏–º": "node:gnome_meet"
        }
    },

    "gnome_meet": {
        "text": (
            "–¢—ã –¥–µ–ª–∞–µ—à—å —à–∞–≥.\n\n"
            "–°–º–µ—Ö –∑–∞–º–∏—Ä–∞–µ—Ç.\n\n"
            "–û–¥–∏–Ω –∏–∑ –≥–Ω–æ–º–æ–≤ —Å–º–æ—Ç—Ä–∏—Ç –Ω–∞ —Ç–µ–±—è.\n"
            "–£ –Ω–µ–≥–æ –æ–≥—Ä–æ–º–Ω–∞—è —à–∞–ø–∫–∞,\n"
            "—Å–ø–æ–ª–∑–∞—é—â–∞—è –Ω–∞ –≥–ª–∞–∑–∞.\n\n"
            "‚Äî –û!\n"
            "–ñ–∏–≤–∞—è!\n\n"
            "‚Äî –¢—ã –æ—Ç–∫—É–¥–∞ —Ç–∞–∫–∞—è —Å–µ—Ä—å—ë–∑–Ω–∞—è?"
        ),
        "actions": {
            "üòÖ –£–ª—ã–±–Ω—É—Ç—å—Å—è": "node:gnome_talk_1",
            "ü§ç –û—Ç–≤–µ—Ç–∏—Ç—å —á–µ—Å—Ç–Ω–æ": "node:gnome_talk_2"
        }
    },

    "gnome_talk_1": {
        "text": (
            "–¢—ã —É–ª—ã–±–∞–µ—à—å—Å—è.\n\n"
            "–ì–Ω–æ–º —Ä–∞–¥–æ—Å—Ç–Ω–æ —Ö–ª–æ–ø–∞–µ—Ç –≤ –ª–∞–¥–æ—à–∏.\n\n"
            "‚Äî –í–∏–¥–µ–ª–∏?!\n"
            "–û–Ω–∞ —É–º–µ–µ—Ç!\n\n"
            "‚Äî –ó–Ω–∞—á–∏—Ç, –º–æ–∂–Ω–æ –∫–∞—Ç–∞—Ç—å—Å—è!"
        ),
        "actions": {
            "üõ∑ –ß—Ç–æ?": "node:gnome_offer"
        }
    },

    "gnome_talk_2": {
        "text": (
            "–¢—ã –≥–æ–≤–æ—Ä–∏—à—å,\n"
            "—á—Ç–æ –ø—Ä–æ—Å—Ç–æ —à–ª–∞.\n\n"
            "–ì–Ω–æ–º—ã –ø–µ—Ä–µ–≥–ª—è–¥—ã–≤–∞—é—Ç—Å—è.\n\n"
            "‚Äî –ü—Ä–æ—Å—Ç–æ?\n"
            "‚Äî –¢–∞–∫ –Ω–µ –±—ã–≤–∞–µ—Ç.\n\n"
            "‚Äî –ù–æ –Ω–∏—á–µ–≥–æ.\n"
            "–ú—ã —Ç–µ–±—è –∏—Å–ø—Ä–∞–≤–∏–º."
        ),
        "actions": {
            "üõ∑ –ò—Å–ø—Ä–∞–≤–∏—Ç–µ?": "node:gnome_offer"
        }
    },

    "gnome_offer": {
        "text": (
            "–û–Ω–∏ –ø–æ–¥–≤–æ–¥—è—Ç —Ç–µ–±—è –∫ —Å–∫–ª–æ–Ω—É.\n\n"
            "‚Äî –ú—ã –∫–∞—Ç–∞–µ–º—Å—è —Ç—É—Ç,\n"
            "–ø–æ–∫–∞ –Ω–µ –∑–∞–±—É–¥–µ–º,\n"
            "—Å–∫–æ–ª—å–∫–æ –Ω–∞–º –ª–µ—Ç.\n\n"
            "‚Äî –•–æ—á–µ—à—å —Å –Ω–∞–º–∏?"
        ),
        "actions": {
            "üõ∑ –ü–æ–∫–∞—Ç–∞—Ç—å—Å—è": "node:gnome_slide",
            "üôà –û—Ç–∫–∞–∑–∞—Ç—å—Å—è": "node:gnome_refuse"
        }
    },

    "gnome_slide": {
        "text": (
            "–¢—ã —Å–∞–¥–∏—à—å—Å—è.\n\n"
            "–°–∫–ª–æ–Ω –∫–∞–∂–µ—Ç—Å—è —Å–ª–∏—à–∫–æ–º –∫—Ä—É—Ç—ã–º.\n\n"
            "‚Äî –ù–µ –¥—É–º–∞–π! ‚Äî –∫—Ä–∏—á–∞—Ç –≥–Ω–æ–º—ã.\n\n"
            "–ò —Ç—ã –µ–¥–µ—à—å.\n\n"
            "–°–º–µ—Ö –≤—ã—Ä—ã–≤–∞–µ—Ç—Å—è —Å–∞–º.\n"
            "–ë–µ–∑ –ø—Ä–∏—á–∏–Ω—ã.\n"
            "–ë–µ–∑ –∫–æ–Ω—Ç—Ä–æ–ª—è.\n\n"
            "–ö–∞–∫ –±—É–¥—Ç–æ —Ç–µ–±–µ —Å–Ω–æ–≤–∞ –≤–æ—Å–µ–º—å."
        ),
        "actions": {
            "üòÇ –°–º–µ—è—Ç—å—Å—è": "node:gnome_after"
        }
    },

    "gnome_refuse": {
        "text": (
            "–¢—ã –∫–∞—á–∞–µ—à—å –≥–æ–ª–æ–≤–æ–π.\n\n"
            "–ì–Ω–æ–º—ã –Ω–µ —Ä–∞—Å—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è.\n\n"
            "‚Äî –õ–∞–¥–Ω–æ.\n"
            "‚Äî –ù–æ –∑–Ω–∞–π.\n\n"
            "‚Äî –°–º–µ—Ö –Ω–∏–∫—É–¥–∞ –Ω–µ –¥–µ–≤–∞–µ—Ç—Å—è.\n"
            "–û–Ω –ø—Ä–æ—Å—Ç–æ –∂–¥—ë—Ç."
        ),
        "actions": {
            "üåô –ü–æ—Å–∏–¥–µ—Ç—å —Ä—è–¥–æ–º": "node:gnome_after"
        }
    },

    "gnome_after": {
        "text": (
            "–í—ã —Å–∏–¥–∏—Ç–µ –Ω–∞ —Ç—Ä–∞–≤–µ.\n\n"
            "–ì–Ω–æ–º—ã –±–æ–ª—Ç–∞—é—Ç –æ –µ—Ä—É–Ω–¥–µ.\n"
            "–û –ø–∞–¥–µ–Ω–∏—è—Ö.\n"
            "–û —Å–º–µ—à–Ω—ã—Ö –æ—à–∏–±–∫–∞—Ö.\n\n"
            "‚Äî –ó–Ω–∞–µ—à—å, ‚Äî\n"
            "–≥–æ–≤–æ—Ä–∏—Ç –æ–¥–∏–Ω –∏–∑ –Ω–∏—Ö,\n"
            "‚Äî –≤–∑—Ä–æ—Å–ª—ã–µ –¥—É–º–∞—é—Ç,\n"
            "—á—Ç–æ —Ä–∞–¥–æ—Å—Ç—å –Ω—É–∂–Ω–æ –∑–∞—Å–ª—É–∂–∏—Ç—å.\n\n"
            "–≠—Ç–æ –Ω–µ–ø—Ä–∞–≤–¥–∞."
        ),
        "actions": {
            "ü§ç –ó–∞–ø–æ–º–Ω–∏—Ç—å —ç—Ç–æ": "node:act7_start"
        }
    },

        # =====================
    # –ê–ö–¢ 7 ‚Äî –°–ö–ê–ó–ö–ê, –ö–û–¢–û–†–ê–Ø –ñ–ò–í–Å–¢
    # =====================

    "act7_start": {
        "text": (
            "–¢—ã —É—Ö–æ–¥–∏—à—å –æ—Ç –≥–Ω–æ–º–æ–≤.\n\n"
            "–°–º–µ—Ö –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ —Ä–∞—Å—Ç–≤–æ—Ä—è–µ—Ç—Å—è.\n\n"
            "–ù–æ –≤–º–µ—Å—Ç–æ —Ç–∏—à–∏–Ω—ã ‚Äî\n"
            "–º–∏—Ä —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —è—Ä—á–µ.\n\n"
            "–¶–≤–µ—Ç–∞ –±—É–¥—Ç–æ —Å–≥—É—â–∞—é—Ç—Å—è.\n"
            "–ó–µ–ª—ë–Ω—ã–π ‚Äî –≥–ª—É–±–∂–µ.\n"
            "–ó–æ–ª–æ—Ç–æ ‚Äî —Ç–µ–ø–ª–µ–µ.\n\n"
            "–¢—ã —Å–ª–æ–≤–Ω–æ —à–∞–≥–Ω—É–ª–∞\n"
            "–Ω–µ –¥–∞–ª—å—à–µ,\n"
            "–∞ –≤–Ω—É—Ç—Ä—å."
        ),
        "actions": {
            "üåø –û—Å–º–æ—Ç—Ä–µ—Ç—å—Å—è": "node:fairytale_forest"
        }
    },

    "fairytale_forest": {
        "text": (
            "–ü–µ—Ä–µ–¥ —Ç–æ–±–æ–π ‚Äî –ª–µ—Å.\n\n"
            "–ù–µ –æ–±—ã—á–Ω—ã–π.\n\n"
            "–î–µ—Ä–µ–≤—å—è —Å–ª–µ–≥–∫–∞ —Å–∫–ª–æ–Ω—è—é—Ç—Å—è,\n"
            "–±—É–¥—Ç–æ —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞—é—Ç —Ç–µ–±—è.\n\n"
            "–õ–∏—Å—Ç—å—è —à–µ–ø—á—É—Ç—Å—è.\n\n"
            "–¢—ã —è—Å–Ω–æ —á—É–≤—Å—Ç–≤—É–µ—à—å:\n"
            "—Ç—ã –∑–¥–µ—Å—å ‚Äî –Ω–µ –≥–æ—Å—Ç—å."
        ),
        "actions": {
            "üë£ –°–¥–µ–ª–∞—Ç—å —à–∞–≥": "node:forest_reacts",
            "ü§ç –ü–æ–ª–æ–∂–∏—Ç—å –ª–∞–¥–æ–Ω—å –Ω–∞ –¥–µ—Ä–µ–≤–æ": "node:forest_touch"
        }
    },

    "forest_reacts": {
        "text": (
            "–ö–∞–∫ —Ç–æ–ª—å–∫–æ —Ç—ã –¥–µ–ª–∞–µ—à—å —à–∞–≥,\n"
            "—Ç—Ä–∞–≤–∞ –ø–æ–¥ –Ω–æ–≥–∞–º–∏ –∑–∞–≥–æ—Ä–∞–µ—Ç—Å—è –º—è–≥–∫–∏–º —Å–≤–µ—Ç–æ–º.\n\n"
            "–¢–∞–º, –≥–¥–µ —Ç—ã –∏–¥—ë—à—å,\n"
            "–ø–æ—è–≤–ª—è–µ—Ç—Å—è —Ç—Ä–æ–ø–∞.\n\n"
            "–ï—ë –Ω–µ –±—ã–ª–æ —Ä–∞–Ω—å—à–µ.\n\n"
            "–û–Ω–∞ –ø–æ—è–≤–ª—è–µ—Ç—Å—è\n"
            "–¢–û–õ–¨–ö–û –¥–ª—è —Ç–µ–±—è."
        ),
        "actions": {
            "‚ú® –ò–¥—Ç–∏ –ø–æ —Ç—Ä–æ–ø–µ": "node:fairy_appear"
        }
    },

    "forest_touch": {
        "text": (
            "–ö–æ—Ä–∞ —Ç—ë–ø–ª–∞—è.\n\n"
            "–ü–æ–¥ –ª–∞–¥–æ–Ω—å—é ‚Äî –º–µ–¥–ª–µ–Ω–Ω—ã–π –ø—É–ª—å—Å.\n\n"
            "–õ–µ—Å –Ω–µ –≥–æ–≤–æ—Ä–∏—Ç.\n\n"
            "–ù–æ —Ç—ã –ø–æ–Ω–∏–º–∞–µ—à—å:\n\n"
            "¬´–ú—ã –¥–∞–≤–Ω–æ —Ç–µ–±—è –∂–¥–∞–ª–∏¬ª."
        ),
        "actions": {
            "‚ú® –°–¥–µ–ª–∞—Ç—å —à–∞–≥ –≤–ø–µ—Ä—ë–¥": "node:fairy_appear"
        }
    },

    "fairy_appear": {
        "text": (
            "–°–≤–µ—Ç –º–µ–∂–¥—É –¥–µ—Ä–µ–≤—å—è–º–∏ —Å–≥—É—â–∞–µ—Ç—Å—è.\n\n"
            "–ò–∑ –Ω–µ–≥–æ –≤—ã—Ö–æ–¥–∏—Ç –º–∞–ª–µ–Ω—å–∫–∞—è —Ñ–∏–≥—É—Ä–∞.\n\n"
            "–§–µ—è.\n\n"
            "–ï—ë –∫—Ä—ã–ª—å—è –ø–µ—Ä–µ–ª–∏–≤–∞—é—Ç—Å—è,\n"
            "–∫–∞–∫ –µ—Å–ª–∏ –±—ã –±—ã–ª–∏ —Å–æ—Ç–∫–∞–Ω—ã –∏–∑ –º—ã—Å–ª–µ–π.\n\n"
            "‚Äî –¢—ã —á—É–≤—Å—Ç–≤—É–µ—à—å, –¥–∞? ‚Äî\n"
            "—Ç–∏—Ö–æ –≥–æ–≤–æ—Ä–∏—Ç –æ–Ω–∞.\n\n"
            "‚Äî –≠—Ç–æ –º–µ—Å—Ç–æ –æ—Ç–≤–µ—á–∞–µ—Ç\n"
            "—Ç–æ–ª—å–∫–æ —Ç–µ–º,\n"
            "–∫—Ç–æ –∏–¥—ë—Ç –ø–æ-–Ω–∞—Å—Ç–æ—è—â–µ–º—É."
        ),
        "actions": {
            "üåô –°–ª—É—à–∞—Ç—å —Ñ–µ—é": "node:fairy_talk"
        }
    },

    "fairy_talk": {
        "text": (
            "–§–µ—è –∫—Ä—É–∂–∏—Ç –≤–æ–∫—Ä—É–≥ —Ç–µ–±—è.\n\n"
            "‚Äî –ó–¥–µ—Å—å –≤—Å—ë –Ω–∞—Å—Ç–æ—è—â–µ–µ.\n"
            "–î–∞–∂–µ –µ—Å–ª–∏ –≤—ã–≥–ª—è–¥–∏—Ç –∫–∞–∫ —Å–∫–∞–∑–∫–∞.\n\n"
            "‚Äî –ù–æ —Å–∫–∞–∑–∫–∞ –∑–∞–¥–∞—ë—Ç –≤–æ–ø—Ä–æ—Å.\n\n"
            "‚Äî –ò –æ—Ç –æ—Ç–≤–µ—Ç–∞\n"
            "–º–µ–Ω—è–µ—Ç—Å—è –Ω–µ –º–∏—Ä.\n"
            "–ú–µ–Ω—è–µ—à—å—Å—è —Ç—ã."
        ),
        "actions": {
            "üí´ –°–ø—Ä–æ—Å–∏—Ç—å –æ –≤–æ–ø—Ä–æ—Å–µ": "node:fairy_question"
        }
    },

    "fairy_question": {
        "text": (
            "–§–µ—è –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –ø—Ä—è–º–æ –ø–µ—Ä–µ–¥ —Ç–æ–±–æ–π.\n\n"
            "‚Äî –°–∫–∞–∂–∏ —á–µ—Å—Ç–Ω–æ.\n\n"
            "–ö–æ–≥–¥–∞ —Ç—ã –∏–¥—ë—à—å –≤–ø–µ—Ä—ë–¥,\n"
            "—Ç—ã –±–æ–ª—å—à–µ –±–æ–∏—à—å—Å—è:\n\n"
            "‚ùì –ø–æ—Ç–µ—Ä—è—Ç—å —Ç–µ—Ö, –∫—Ç–æ –±—ã–ª\n"
            "–∏–ª–∏\n"
            "‚ùì –Ω–µ –≤—Å—Ç—Ä–µ—Ç–∏—Ç—å —Ç–µ—Ö, –∫—Ç–æ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å?"
        ),
        "actions": {
            "üíî –ü–æ—Ç–µ—Ä—è—Ç—å": "node:fairy_answer_loss",
            "‚ú® –ù–µ –≤—Å—Ç—Ä–µ—Ç–∏—Ç—å": "node:fairy_answer_future"
        }
    },

    "fairy_answer_loss": {
        "text": (
            "–§–µ—è —Å–º–æ—Ç—Ä–∏—Ç –º—è–≥–∫–æ.\n\n"
            "‚Äî –ó–Ω–∞—á–∏—Ç, —Ç—ã —É–º–µ–µ—à—å –ª—é–±–∏—Ç—å –≥–ª—É–±–æ–∫–æ.\n\n"
            "‚Äî –ù–æ –ø–æ–º–Ω–∏.\n"
            "–¢–æ, —á—Ç–æ –±—ã–ª–æ –Ω–∞—Å—Ç–æ—è—â–∏–º,\n"
            "–Ω–µ –∏—Å—á–µ–∑–∞–µ—Ç.\n\n"
            "–û–Ω–æ –ø—Ä–æ—Å—Ç–æ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —á–∞—Å—Ç—å—é —Ç–µ–±—è."
        ),
        "actions": {
            "üåô –ü—Ä–∏–Ω—è—Ç—å": "node:act8_start"
        }
    },

    "fairy_answer_future": {
        "text": (
            "–§–µ—è —É–ª—ã–±–∞–µ—Ç—Å—è.\n\n"
            "‚Äî –ó–Ω–∞—á–∏—Ç, —Ç—ã –≥–æ—Ç–æ–≤–∞ –∏–¥—Ç–∏.\n\n"
            "‚Äî –ù–µ –∑–Ω–∞—è —Ç–æ—á–Ω–æ –∫—É–¥–∞.\n"
            "–ù–æ –∑–Ω–∞—è ‚Äî –∑–∞—á–µ–º.\n\n"
            "–≠—Ç–æ —Ä–µ–¥–∫–∞—è —Ö—Ä–∞–±—Ä–æ—Å—Ç—å."
        ),
        "actions": {
            "üåô –ü—Ä–∏–Ω—è—Ç—å": "node:act8_start"
        }
    },

    # =====================
    # –ê–ö–¢ 8 ‚Äî –°–ê–î, –ì–î–ï –õ–Æ–ë–û–í–¨ –ù–ï –¶–í–ï–¢–Å–¢
    # =====================

    "act8_start": {
        "text": (
            "–¢—ã –∏–¥—ë—à—å –¥–∞–ª—å—à–µ.\n\n"
            "–õ–µ—Å –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ –º–µ–Ω—è–µ—Ç—Å—è.\n"
            "–î–µ—Ä–µ–≤—å—è —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –Ω–∏–∂–µ,\n"
            "–≤–æ–∑–¥—É—Ö ‚Äî –ø—Ä–æ–∑—Ä–∞—á–Ω–µ–µ.\n\n"
            "–ò –≤–¥—Ä—É–≥ —Ç—ã –≤—ã—Ö–æ–¥–∏—à—å –≤ —Å–∞–¥.\n\n"
            "–û–Ω –æ–≥—Ä–æ–º–Ω—ã–π.\n"
            "–ö—Ä–∞—Å–∏–≤—ã–π.\n\n"
            "–ù–æ –≤ –Ω—ë–º –Ω–µ—Ç –Ω–∏ –æ–¥–Ω–æ–≥–æ —Ü–≤–µ—Ç–∫–∞."
        ),
        "actions": {
            "üåø –û—Å–º–æ—Ç—Ä–µ—Ç—å—Å—è": "node:empty_garden"
        }
    },

    "empty_garden": {
        "text": (
            "–î–æ—Ä–æ–∂–∫–∏ –∞–∫–∫—É—Ä–∞—Ç–Ω—ã–µ.\n"
            "–ö—É—Å—Ç—ã –ø–æ–¥—Å—Ç—Ä–∏–∂–µ–Ω—ã.\n"
            "–§–æ–Ω—Ç–∞–Ω—ã —Ä–∞–±–æ—Ç–∞—é—Ç.\n\n"
            "–í—Å—ë –≤—ã–≥–ª—è–¥–∏—Ç —É—Ö–æ–∂–µ–Ω–Ω—ã–º.\n\n"
            "–ù–æ –ø—É—Å—Ç—ã–º.\n\n"
            "–ö–∞–∫ –±—É–¥—Ç–æ –∑–¥–µ—Å—å –¥–∞–≤–Ω–æ\n"
            "–∂–¥–∞–ª–∏ –ª—é–±–æ–≤—å.\n"
            "–ò –Ω–µ –¥–æ–∂–¥–∞–ª–∏—Å—å."
        ),
        "actions": {
            "üåô –ü–æ–π—Ç–∏ –≤–≥–ª—É–±—å —Å–∞–¥–∞": "node:garden_center"
        }
    },

    "garden_center": {
        "text": (
            "–í —Ü–µ–Ω—Ç—Ä–µ —Å–∞–¥–∞ —Å—Ç–æ–∏—Ç —Ñ–∏–≥—É—Ä–∞.\n\n"
            "–ß–µ–ª–æ–≤–µ–∫?\n"
            "–°—Ç–∞—Ç—É—è?\n\n"
            "–ö–æ–≥–¥–∞ —Ç—ã –ø–æ–¥—Ö–æ–¥–∏—à—å –±–ª–∏–∂–µ,\n"
            "–æ–Ω –ø–æ–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç –≥–æ–ª–æ–≤—É.\n\n"
            "‚Äî –¢—ã —É–¥–∏–≤–ª—è–µ—à—å—Å—è,\n"
            "‚Äî –≥–æ–≤–æ—Ä–∏—Ç –æ–Ω —Ç–∏—Ö–æ.\n\n"
            "‚Äî –û–±—ã—á–Ω–æ –∂–¥—É—Ç —Ü–≤–µ—Ç–æ–≤."
        ),
        "actions": {
            "üí≠ –°–ø—Ä–æ—Å–∏—Ç—å –µ–≥–æ": "node:gardener_intro"
        }
    },

    "gardener_intro": {
        "text": (
            "‚Äî –Ø —Ö—Ä–∞–Ω–∏—Ç–µ–ª—å —ç—Ç–æ–≥–æ —Å–∞–¥–∞.\n\n"
            "–ö–æ–≥–¥–∞-—Ç–æ –∑–¥–µ—Å—å —Ä–æ—Å–ª–∏ —Å–∞–º—ã–µ –∫—Ä–∞—Å–∏–≤—ã–µ —Ü–≤–µ—Ç—ã.\n"
            "–ò—Ö –Ω–∞–∑—ã–≤–∞–ª–∏ –ª—é–±–æ–≤—å—é.\n\n"
            "–ù–æ –ª—é–¥–∏ —Ö–æ—Ç–µ–ª–∏,\n"
            "—á—Ç–æ–±—ã –æ–Ω–∏ —Ü–≤–µ–ª–∏ –≤—Å–µ–≥–¥–∞.\n\n"
            "–î–∞–∂–µ –∫–æ–≥–¥–∞ –ø–µ—Ä–µ—Å—Ç–∞–ª–∏ –ø–æ–ª–∏–≤–∞—Ç—å."
        ),
        "actions": {
            "üå± –°–ª—É—à–∞—Ç—å –¥–∞–ª—å—à–µ": "node:gardener_love"
        }
    },

    "gardener_love": {
        "text": (
            "–û–Ω —Å–º–æ—Ç—Ä–∏—Ç –Ω–∞ –ø—É—Å—Ç—ã–µ –∫–ª—É–º–±—ã.\n\n"
            "‚Äî –õ—é–±–æ–≤—å –Ω–µ —É–º–∏—Ä–∞–µ—Ç –æ—Ç –±–æ–ª–∏.\n"
            "–û–Ω–∞ —É–º–∏—Ä–∞–µ—Ç –æ—Ç –ø—Ä–∏–≤—ã—á–∫–∏.\n\n"
            "–û—Ç —Å–ª–æ–≤ ¬´–ø–æ—Ç–æ–º¬ª.\n"
            "–û—Ç —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏, —á—Ç–æ –æ–Ω–∞\n"
            "–Ω–∏–∫—É–¥–∞ –Ω–µ –¥–µ–Ω–µ—Ç—Å—è."
        ),
        "actions": {
            "‚ùì –ó–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å": "node:gardener_riddle"
        }
    },

    "gardener_riddle": {
        "text": (
            "‚Äî –°–∫–∞–∂–∏ –º–Ω–µ.\n\n"
            "–ß—Ç–æ –¥–ª—è —Ç–µ–±—è –ª—é–±–æ–≤—å?\n\n"
            "‚ùì –¢–æ, —á—Ç–æ –¥–µ–ª–∞–µ—Ç —Ç–µ–±—è —Å—á–∞—Å—Ç–ª–∏–≤–æ–π\n\n"
            "–∏–ª–∏\n\n"
            "‚ùì —Ç–æ, —Ä–∞–¥–∏ —á–µ–≥–æ —Ç—ã –≥–æ—Ç–æ–≤–∞\n"
            "–∏–Ω–æ–≥–¥–∞ –±—ã—Ç—å –Ω–µ—Å—á–∞—Å—Ç–Ω–æ–π?"
        ),
        "actions": {
            "üå∏ –°—á–∞—Å—Ç—å–µ": "node:love_happy",
            "üïØ –í—ã–±–æ—Ä": "node:love_choice"
        }
    },

    "love_happy": {
        "text": (
            "–•—Ä–∞–Ω–∏—Ç–µ–ª—å —Å–ª–µ–≥–∫–∞ —É–ª—ã–±–∞–µ—Ç—Å—è.\n\n"
            "‚Äî –¢–æ–≥–¥–∞ —Ç—ã –∏—â–µ—à—å —Ü–≤–µ—Ç—ã.\n\n"
            "–û–Ω–∏ –ø—Ä–µ–∫—Ä–∞—Å–Ω—ã.\n"
            "–ù–æ –æ–Ω–∏ –Ω–µ –∂–∏–≤—É—Ç –¥–æ–ª–≥–æ.\n\n"
            "–ó–∞–ø–æ–º–Ω–∏ —ç—Ç–æ.\n"
            "–ò –∏–¥–∏ –¥–∞–ª—å—à–µ."
        ),
        "actions": {
            "üåô –ü–æ–∫–∏–Ω—É—Ç—å —Å–∞–¥": "node:act9_start"
        }
    },

    "love_choice": {
        "text": (
            "–û–Ω –¥–æ–ª–≥–æ –º–æ–ª—á–∏—Ç.\n\n"
            "–ü–æ—Ç–æ–º –º–µ–¥–ª–µ–Ω–Ω–æ –∫–∏–≤–∞–µ—Ç.\n\n"
            "‚Äî –¢–æ–≥–¥–∞ —Ç—ã –ø–æ–Ω–∏–º–∞–µ—à—å.\n\n"
            "–õ—é–±–æ–≤—å ‚Äî —ç—Ç–æ –Ω–µ —Ç–æ,\n"
            "—á—Ç–æ –≤—Å–µ–≥–¥–∞ —Ä–∞–¥—É–µ—Ç.\n\n"
            "–≠—Ç–æ —Ç–æ,\n"
            "—á—Ç–æ –Ω–µ –±—Ä–æ—Å–∞—é—Ç,\n"
            "–∫–æ–≥–¥–∞ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —Ç—Ä—É–¥–Ω–æ."
        ),
        "actions": {
            "üåô –ü–æ–∫–∏–Ω—É—Ç—å —Å–∞–¥": "node:act9_start"
        }
    },

    # =====================
    # –ê–ö–¢ 9 ‚Äî –ö–û–¢ –í –°–ê–ü–û–ì–ê–•
    # =====================

    "act9_start": {
        "text": (
            "–¢—ã –ø–µ—Ä–µ—Ö–æ–¥–∏—à—å –º–æ—Å—Ç.\n\n"
            "–ò –≤–¥—Ä—É–≥ —Å–ª—ã—à–∏—à—å:\n\n"
            "‚Äî –≠–π!\n"
            "–°–º–æ—Ç—Ä–∏ –ø–æ–¥ –Ω–æ–≥–∏, –∞ —Ç–æ —Å—É–¥—å–±—É —Ä–∞–∑–¥–∞–≤–∏—à—å.\n\n"
            "–ü–µ—Ä–µ–¥ —Ç–æ–±–æ–π —Å—Ç–æ–∏—Ç –∫–æ—Ç.\n"
            "–í —Å–∞–ø–æ–≥–∞—Ö.\n"
            "–ù–∞—Å—Ç–æ—è—â–∏—Ö."
        ),
        "actions": {
            "üòÆ –£–¥–∏–≤–∏—Ç—å—Å—è": "node:boots_cat_intro"
        }
    },

    "boots_cat_intro": {
        "text": (
            "–ö–æ—Ç –ø–æ–ø—Ä–∞–≤–ª—è–µ—Ç —à–ª—è–ø—É.\n\n"
            "‚Äî –î–∞-–¥–∞.\n"
            "–ö–æ—Ç –≤ —Å–∞–ø–æ–≥–∞—Ö.\n"
            "–û—Ä–∏–≥–∏–Ω–∞–ª.\n\n"
            "–Ø —Ç—É—Ç –ø—Ä–æ–≤–µ—Ä—è—é –ø—É—Ç–Ω–∏–∫–æ–≤.\n"
            "–ù–µ –≤—Å–µ—Ö.\n"
            "–¢–æ–ª—å–∫–æ —Ç–µ—Ö, –∫—Ç–æ —É–º–µ–µ—Ç —á—É–≤—Å—Ç–≤–æ–≤–∞—Ç—å."
        ),
        "actions": {
            "üêæ –°–ø—Ä–æ—Å–∏—Ç—å –∑–∞—á–µ–º": "node:boots_cat_test",
            "üòè –ü–æ—à—É—Ç–∏—Ç—å": "node:boots_cat_joke"
        }
    },

    "boots_cat_joke": {
        "text": (
            "–ö–æ—Ç —É—Å–º–µ—Ö–∞–µ—Ç—Å—è.\n\n"
            "‚Äî –Æ–º–æ—Ä.\n"
            "–•–æ—Ä–æ—à–∏–π –∑–Ω–∞–∫.\n\n"
            "–õ–∞–¥–Ω–æ.\n"
            "–¢–æ–≥–¥–∞ —Å—Ä–∞–∑—É –∫ –¥–µ–ª—É."
        ),
        "actions": {
            "üåô –°–ª—É—à–∞—Ç—å": "node:boots_cat_test"
        }
    },

    "boots_cat_test": {
        "text": (
            "‚Äî –í–æ—Ç –∑–∞–≥–∞–¥–∫–∞.\n\n"
            "–ß—Ç–æ –∏–¥—ë—Ç —Å —Ç–æ–±–æ–π —Ä—è–¥–æ–º,\n"
            "–Ω–æ –Ω–µ –º–µ—à–∞–µ—Ç.\n"
            "–†–∞–¥—É–µ—Ç—Å—è, –∫–æ–≥–¥–∞ —Ç–µ–±–µ —Ö–æ—Ä–æ—à–æ,\n"
            "–∏ –º–æ–ª—á–∏—Ç, –∫–æ–≥–¥–∞ –±–æ–ª—å–Ω–æ?"
        ),
        "actions": {
            "‚ù§Ô∏è –õ—é–±–æ–≤—å": "node:boots_cat_success",
            "üë§ –¢–µ–Ω—å": "node:boots_cat_wrong",
            "üß† –ú—ã—Å–ª—å": "node:boots_cat_wrong"
        }
    },

    "boots_cat_wrong": {
        "text": (
            "–ö–æ—Ç —Ü–æ–∫–∞–µ—Ç —è–∑—ã–∫–æ–º.\n\n"
            "‚Äî –ü–æ—á—Ç–∏.\n"
            "–ù–æ —Ç—ã –∏—â–µ—à—å –≤—ã—à–µ,\n"
            "—á–µ–º –Ω—É–∂–Ω–æ.\n\n"
            "–ü–æ–ø—Ä–æ–±—É–π –µ—â—ë."
        ),
        "actions": {
            "üîÅ –û—Ç–≤–µ—Ç–∏—Ç—å —Å–Ω–æ–≤–∞": "node:boots_cat_test"
        }
    },

    "boots_cat_success": {
        "text": (
            "–ö–æ—Ç –¥–æ–≤–æ–ª—å–Ω–æ —É–ª—ã–±–∞–µ—Ç—Å—è.\n\n"
            "‚Äî –ò–º–µ–Ω–Ω–æ.\n\n"
            "–õ—é–±–æ–≤—å –Ω–µ —Ç—è–Ω–µ—Ç.\n"
            "–û–Ω–∞ –∏–¥—ë—Ç —Ä—è–¥–æ–º.\n\n"
            "–ú–æ–∂–µ—à—å –∏–¥—Ç–∏ –¥–∞–ª—å—à–µ.\n"
            "–ù–æ –Ω–µ –æ–¥–Ω–∞."
        ),
        "actions": {
            "üåô –û—Å–º–æ—Ç—Ä–µ—Ç—å—Å—è": "node:puppy_intro"
        }
    },

        # =====================
    # –ê–ö–¢ 10 ‚Äî –ì–û–í–û–†–Ø–©–ò–ô –©–ï–ù–û–ö
    # =====================

    "puppy_intro": {
        "text": (
            "–ò–∑-–∑–∞ —Å–∞–ø–æ–≥ –∫–æ—Ç–∞\n"
            "–≤—ã–≥–ª—è–¥—ã–≤–∞–µ—Ç —â–µ–Ω–æ–∫.\n\n"
            "–û–Ω –Ω–µ—É–≤–µ—Ä–µ–Ω–Ω–æ –≤–∏–ª—è–µ—Ç —Ö–≤–æ—Å—Ç–æ–º.\n\n"
            "‚Äî –ü—Ä–∏–≤–µ—Ç‚Ä¶ ‚Äî\n"
            "—Ç–∏—Ö–æ –≥–æ–≤–æ—Ä–∏—Ç –æ–Ω.\n\n"
            "‚Äî –Ø —É–º–µ—é —Ö–æ–¥–∏—Ç—å —Ä—è–¥–æ–º.\n"
            "–ò –∂–¥–∞—Ç—å.\n"
            "–ò —Ä–∞–¥–æ–≤–∞—Ç—å—Å—è –ø—Ä–æ—Å—Ç–æ —Ç–∞–∫."
        ),
        "actions": {
            "üêæ –ü—Ä–∏—Å–µ—Å—Ç—å —Ä—è–¥–æ–º": "node:puppy_talk",
            "üòÆ –£–¥–∏–≤–∏—Ç—å—Å—è": "node:puppy_surprise"
        }
    },

    "puppy_surprise": {
        "text": (
            "‚Äî –î–∞, —è –≥–æ–≤–æ—Ä—é, ‚Äî\n"
            "—Å–º—É—â—ë–Ω–Ω–æ –≥–æ–≤–æ—Ä–∏—Ç —â–µ–Ω–æ–∫.\n\n"
            "‚Äî –ù–æ —Ç–æ–ª—å–∫–æ —Å —Ç–µ–º–∏,\n"
            "–∫—Ç–æ –Ω–µ –±–æ–∏—Ç—Å—è –ø—Ä–∏–≤—è–∑–∞—Ç—å—Å—è."
        ),
        "actions": {
            "üêæ –ü—Ä–∏—Å–µ—Å—Ç—å —Ä—è–¥–æ–º": "node:puppy_talk"
        }
    },

    "puppy_talk": {
        "text": (
            "–©–µ–Ω–æ–∫ —Å–º–æ—Ç—Ä–∏—Ç –ø—Ä—è–º–æ –≤ –≥–ª–∞–∑–∞.\n\n"
            "‚Äî –ï—Å–ª–∏ —Ç—ã –≤–æ–∑—å–º—ë—à—å –º–µ–Ω—è,\n"
            "—è –±—É–¥—É —Å —Ç–æ–±–æ–π.\n"
            "–ö–æ–≥–¥–∞ —Ö–æ—Ä–æ—à–æ.\n"
            "–ò –∫–æ–≥–¥–∞ —Ç—Ä—É–¥–Ω–æ.\n\n"
            "–ù–æ —è –Ω–µ –æ–±–µ—â–∞—é,\n"
            "—á—Ç–æ –≤—Å–µ–≥–¥–∞ –±—É–¥–µ—Ç –ª–µ–≥–∫–æ."
        ),
        "actions": {
            "‚ù§Ô∏è –í–∑—è—Ç—å —â–µ–Ω–∫–∞ —Å —Å–æ–±–æ–π": "node:puppy_take",
            "üåô –ü–æ–≥–ª–∞–¥–∏—Ç—å –∏ —É–π—Ç–∏": "node:puppy_leave"
        }
    },

    "puppy_leave": {
        "text": (
            "–¢—ã –≥–ª–∞–¥–∏—à—å —â–µ–Ω–∫–∞.\n\n"
            "–û–Ω —É–ª—ã–±–∞–µ—Ç—Å—è.\n\n"
            "‚Äî –ó–Ω–∞—á–∏—Ç,\n"
            "–º—ã –≤—Å—Ç—Ä–µ—Ç–∏–º—Å—è –ø–æ–∑–∂–µ.\n\n"
            "–ò–Ω–æ–≥–¥–∞ –ª—é–±–æ–≤—å\n"
            "–Ω–µ —Å—Ä–∞–∑—É."
        ),
        "actions": {
            "üåô –ò–¥—Ç–∏ –¥–∞–ª—å—à–µ": "node:act11_start"
        }
    },

    "puppy_take": {
        "text": (
            "–©–µ–Ω–æ–∫ —Ä–∞–¥–æ—Å—Ç–Ω–æ –ø–æ–¥–ø—Ä—ã–≥–∏–≤–∞–µ—Ç.\n\n"
            "‚Äî –¢–æ–≥–¥–∞ —è —Ä—è–¥–æ–º.\n"
            "–í—Å–µ–≥–¥–∞.\n\n"
            "–î–∞–∂–µ –∫–æ–≥–¥–∞ —Ç—ã –∑–∞–±—É–¥–µ—à—å,\n"
            "–∑–∞—á–µ–º –Ω–∞—á–∞–ª–∞ –ø—É—Ç—å."
        ),
        "actions": {
            "üê∂ –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –ø—É—Ç—å –≤–º–µ—Å—Ç–µ": "node:act11_start"
        }
    },

    # =====================
    # –ê–ö–¢ 11 ‚Äî –¢–†–û–ü–ê –°–û–ú–ù–ï–ù–ò–ô
    # =====================

    "act11_start": {
        "text": (
            "–¢—Ä–æ–ø–∞ –≤–ø–µ—Ä–µ–¥–∏ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —Å—Ç—Ä–∞–Ω–Ω–æ–π.\n\n"
            "–û–Ω–∞ –±—É–¥—Ç–æ –Ω–µ —É–≤–µ—Ä–µ–Ω–∞,\n"
            "–∫—É–¥–∞ –≤–µ—Å—Ç–∏ —Ç–µ–±—è –¥–∞–ª—å—à–µ.\n\n"
            "–ó–µ–º–ª—è –ø–æ–¥ –Ω–æ–≥–∞–º–∏ –º—è–≥–∫–∞—è,\n"
            "–≤–æ–∑–¥—É—Ö –Ω–∞–ø—Ä—è–∂—ë–Ω.\n\n"
            "–ö–∞–∂–¥—ã–π —à–∞–≥ –∑–≤—É—á–∏—Ç –∫–∞–∫ –≤–æ–ø—Ä–æ—Å."
        ),
        "actions": {
            "üåô –°–¥–µ–ª–∞—Ç—å —à–∞–≥": "node:act11_check"
        }
    },

    "act11_check": {
        "text": (
            "–¢—ã —á—É–≤—Å—Ç–≤—É–µ—à—å ‚Äî\n"
            "–¥–∞–ª—å—à–µ –ø—É—Ç—å —Ä–∞–∑–æ–π–¥—ë—Ç—Å—è.\n\n"
            "–ù–æ –ø—Ä–µ–∂–¥–µ –æ–Ω —Ö–æ—á–µ—Ç –ø–æ–Ω—è—Ç—å:\n"
            "—Ç—ã –æ–¥–Ω–∞?\n"
            "–∏–ª–∏ —Ä—è–¥–æ–º –∫—Ç–æ-—Ç–æ –µ—Å—Ç—å?"
        ),
        "actions": {
            "üêæ –û—Å–º–æ—Ç—Ä–µ—Ç—å—Å—è": "node:act11_branch"
        }
    },

    # ---- –µ—Å–ª–∏ —â–µ–Ω–æ–∫ —Å —Ç–æ–±–æ–π ----
    "act11_with_puppy": {
        "text": (
            "–©–µ–Ω–æ–∫ –∏–¥—ë—Ç —Ä—è–¥–æ–º.\n\n"
            "–û–Ω —á—É–≤—Å—Ç–≤—É–µ—Ç —Ç–≤–æ—ë –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–µ\n"
            "–∏ –º—è–≥–∫–æ –∫–∞—Å–∞–µ—Ç—Å—è –Ω–æ–≥–∏.\n\n"
            "‚Äî –ò–Ω–æ–≥–¥–∞ –¥–æ—Ä–æ–≥–∞ –ø—É–≥–∞–µ—Ç,\n"
            "–∫–æ–≥–¥–∞ –º—ã –∏–¥—ë–º –ø—Ä–∞–≤–∏–ª—å–Ω–æ, ‚Äî\n"
            "–≥–æ–≤–æ—Ä–∏—Ç –æ–Ω.\n\n"
            "‚Äî –Ø –∑–¥–µ—Å—å."
        ),
        "actions": {
            "‚ù§Ô∏è –£–ª—ã–±–Ω—É—Ç—å—Å—è": "node:act11_path_open"
        }
    },

    # ---- –µ—Å–ª–∏ —â–µ–Ω–∫–∞ –Ω–µ—Ç ----
    "act11_without_puppy": {
        "text": (
            "–¢—ã –¥–µ–ª–∞–µ—à—å —à–∞–≥ ‚Äî\n"
            "–∏ —Ç—Ä–æ–ø–∞ —Ä–µ–∑–∫–æ –æ–±—Ä—ã–≤–∞–µ—Ç—Å—è.\n\n"
            "–°–µ—Ä–¥—Ü–µ –∑–∞–º–∏—Ä–∞–µ—Ç.\n\n"
            "–ò –≤–¥—Ä—É–≥ —Ç—ã —Å–ª—ã—à–∏—à—å:\n\n"
            "‚Äî –Ø –∂–µ –≥–æ–≤–æ—Ä–∏–ª,\n"
            "—á—Ç–æ —É–º–µ—é –∂–¥–∞—Ç—å."
        ),
        "actions": {
            "üòÆ –û–±–µ—Ä–Ω—É—Ç—å—Å—è": "node:act11_puppy_return"
        }
    },

    "act11_puppy_return": {
        "text": (
            "–©–µ–Ω–æ–∫ —Å—Ç–æ–∏—Ç —Ä—è–¥–æ–º.\n\n"
            "‚Äî –Ø –Ω–µ –æ–±–∏–¥–µ–ª—Å—è.\n"
            "–ò–Ω–æ–≥–¥–∞ –ª—é–¥–∏\n"
            "–Ω–µ –≥–æ—Ç–æ–≤—ã —Å—Ä–∞–∑—É.\n\n"
            "–ù–æ —è –≤—Å—ë —Ä–∞–≤–Ω–æ –ø—Ä–∏—à—ë–ª.\n"
            "–ü–æ—Ç–æ–º—É —á—Ç–æ —Å–µ–π—á–∞—Å ‚Äî –≤–∞–∂–Ω–æ."
        ),
        "actions": {
            "üêæ –ü—Ä–∏–Ω—è—Ç—å –ø–æ–º–æ—â—å": "node:act11_path_open"
        }
    },

    "act11_path_open": {
        "text": (
            "–¢—Ä–æ–ø–∞ –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç—Å—è.\n\n"
            "–ë—É–¥—Ç–æ —É—Å–ª—ã—à–∞–≤ –æ—Ç–≤–µ—Ç.\n\n"
            "–¢—ã –º–æ–∂–µ—à—å –∏–¥—Ç–∏ –¥–∞–ª—å—à–µ."
        ),
        "actions": {
            "üåô –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –ø—É—Ç—å": "node:act12_start"
        }
    },

        # =====================
    # –ê–ö–¢ 12 ‚Äî –ü–†–û–î–û–õ–ñ–ï–ù–ò–ï
    # =====================

    "act12_start": {
        "text": (
            "–¢—ã –≤—ã—Ö–æ–¥–∏—à—å –Ω–∞ –ø–æ–ª—è–Ω—É.\n\n"
            "–û–Ω–∞ —Ç–∏—Ö–∞—è.\n"
            "–°–ø–æ–∫–æ–π–Ω–∞—è.\n\n"
            "–ó–¥–µ—Å—å –Ω–∏—á–µ–≥–æ –Ω–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç.\n\n"
            "–ò –∏–º–µ–Ω–Ω–æ –ø–æ—ç—Ç–æ–º—É\n"
            "—Ç—ã –ø–æ–Ω–∏–º–∞–µ—à—å:\n\n"
            "—ç—Ç–æ –Ω–µ –∫–æ–Ω–µ—Ü."
        ),
        "actions": {
            "üåô –û—Å–º–æ—Ç—Ä–µ—Ç—å—Å—è": "node:act12_talk"
        }
    },

    "act12_talk": {
        "text": (
            "–©–µ–Ω–æ–∫ —Å–∞–¥–∏—Ç—Å—è —Ä—è–¥–æ–º.\n\n"
            "‚Äî –ó–Ω–∞–µ—à—å, ‚Äî –≥–æ–≤–æ—Ä–∏—Ç –æ–Ω,\n"
            "‚Äî —Å–∫–∞–∑–∫–∏ –Ω–µ –∑–∞–∫–∞–Ω—á–∏–≤–∞—é—Ç—Å—è.\n\n"
            "–û–Ω–∏ –ø—Ä–æ—Å—Ç–æ –¥–µ–ª–∞—é—Ç –ø–∞—É–∑—É,\n"
            "—á—Ç–æ–±—ã —Ç—ã —É—Å–ø–µ–ª–∞ –ø–æ–∂–∏—Ç—å."
        ),
        "actions": {
            "‚ù§Ô∏è –°–ø—Ä–æ—Å–∏—Ç—å —á—Ç–æ –¥–∞–ª—å—à–µ": "node:act12_hint"
        }
    },

    "act12_hint": {
        "text": (
            "‚Äî –î–∞–ª—å—à–µ –±—É–¥—É—Ç –Ω–æ–≤—ã–µ –≤—Å—Ç—Ä–µ—á–∏.\n"
            "–ù–æ–≤—ã–µ –≤—ã–±–æ—Ä—ã.\n"
            "–ò –º–µ—Å—Ç–∞,\n"
            "–≥–¥–µ —Ç—ã –µ—â—ë –Ω–µ –±—ã–ª–∞.\n\n"
            "–ù–æ —ç—Ç–æ —É–∂–µ –¥—Ä—É–≥–∞—è –≥–ª–∞–≤–∞."
        ),
        "actions": {
            "üåô –°–¥–µ–ª–∞—Ç—å –≤–¥–æ—Ö": "node:act12_end"
        }
    },

    "act12_end": {
        "text": (
            "–¢—ã —á—É–≤—Å—Ç–≤—É–µ—à—å —ç—Ç–æ —è—Å–Ω–æ:\n\n"
            "–ø—É—Ç—å –Ω–µ –∏—Å—á–µ–∑.\n\n"
            "–û–Ω –ø—Ä–æ—Å—Ç–æ\n"
            "–∂–¥—ë—Ç —Ç–≤–æ–µ–≥–æ –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏—è.\n\n"
            "üåô –ü—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ —Å–ª–µ–¥—É–µ—Ç‚Ä¶"
        ),
        "actions": {}
    },

        "inventory_show": {
        "text": "",  # –∑–∞–ø–æ–ª–Ω–∏–º –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏
        "actions": {
            "üå∏ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¶–≤–µ—Ç–æ–∫ —Ç–∏—à–∏–Ω—ã": "node:use_flower",
            "üîô –ù–∞–∑–∞–¥": "node:back"
        }
    },
}

# =====================
# –õ–û–ö–ê–õ–¨–ù–´–ï –î–ï–ô–°–¢–í–ò–Ø
# =====================

CAT_ACTIONS = {
    "cat_pet": (
        "–ö–æ—Ç –ø—Ä–∏–∫—Ä—ã–≤–∞–µ—Ç –≥–ª–∞–∑–∞.\n\n"
        "‚Äî –ò–Ω–æ–≥–¥–∞ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–æ—Å—Ç–æ –ø—Ä–∏–∫–æ—Å–Ω—É—Ç—å—Å—è,\n"
        "—á—Ç–æ–±—ã –Ω–∞–ø–æ–º–Ω–∏—Ç—å —Å–µ–±–µ,\n"
        "—á—Ç–æ —Ç—ã –∂–∏–≤–∞—è."
    ),

    "cat_park": (
        "‚Äî –≠—Ç–æ—Ç –ø–∞—Ä–∫ –ø–æ–º–Ω–∏—Ç –±–æ–ª—å—à–µ,\n"
        "—á–µ–º –∫–∞–∂–µ—Ç—Å—è, ‚Äî –≥–æ–≤–æ—Ä–∏—Ç –∫–æ—Ç.\n\n"
        "‚Äî –û–Ω —Å–ª—ã—à–∞–ª —à–∞–≥–∏ —Ç–µ—Ö,\n"
        "–∫—Ç–æ –ø—Ä–∏—Ö–æ–¥–∏–ª —Å—é–¥–∞ —É–±–µ–≥–∞—Ç—å.\n"
        "–ò —Ç–µ—Ö,\n"
        "–∫—Ç–æ –ø—Ä–∏—Ö–æ–¥–∏–ª –∏—Å–∫–∞—Ç—å."
    ),

    "cat_path": (
        "–ö–æ—Ç —á—É—Ç—å —É–ª—ã–±–∞–µ—Ç—Å—è.\n\n"
        "‚Äî –ü—É—Ç—å –Ω–µ –≤—Å–µ–≥–¥–∞ –≤–µ–¥—ë—Ç –≤–ø–µ—Ä—ë–¥.\n"
        "–ò–Ω–æ–≥–¥–∞ –æ–Ω –ø—Ä–æ—Å—Ç–æ\n"
        "–ø–æ–∑–≤–æ–ª—è–µ—Ç –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è.\n\n"
        "‚Äî –¢—ã —É–∂–µ –Ω–∞ –Ω—ë–º."
    )
}

TREE_ACTIONS = {
    "tree_love": (
        "–î–µ—Ä–µ–≤–æ —à—É–º–∏—Ç –ª–∏—Å—Ç–≤–æ–π.\n\n"
        "‚Äî –õ—é–±–æ–≤—å –Ω–µ –≤—Å–µ–≥–¥–∞ —Ç—ë–ø–ª–∞—è.\n"
        "–ò–Ω–æ–≥–¥–∞ –æ–Ω–∞ ‚Äî –≤—ã–±–æ—Ä.\n"
        "–ò–Ω–æ–≥–¥–∞ ‚Äî —Ç–µ—Ä–ø–µ–Ω–∏–µ.\n\n"
        "‚Äî –ê –∏–Ω–æ–≥–¥–∞\n"
        "–æ–Ω–∞ –ø—Ä–æ—Å—Ç–æ –æ—Å—Ç–∞—ë—Ç—Å—è."
    ),

    "tree_fear": (
        "‚Äî –ü–æ—Ç–µ—Ä–∏ –±–æ—è—Ç—Å—è —Ç–µ,\n"
        "–∫—Ç–æ —É–∂–µ —É–º–µ–µ—Ç —á—É–≤—Å—Ç–≤–æ–≤–∞—Ç—å,\n"
        "‚Äî –≥–æ–≤–æ—Ä–∏—Ç –¥–µ—Ä–µ–≤–æ.\n\n"
        "‚Äî –≠—Ç–æ –Ω–µ —Å–ª–∞–±–æ—Å—Ç—å.\n"
        "–≠—Ç–æ —Ü–µ–Ω–∞."
    ),

    "tree_desire": (
        "–î–µ—Ä–µ–≤–æ –Ω–∞–∫–ª–æ–Ω—è–µ—Ç –≤–µ—Ç–≤–∏ –Ω–∏–∂–µ.\n\n"
        "‚Äî –ù–∞—Å—Ç–æ—è—â–∏–µ –∂–µ–ª–∞–Ω–∏—è\n"
        "–≤—Å–µ–≥–¥–∞ —Ç–∏—à–µ,\n"
        "—á–µ–º –æ–∂–∏–¥–∞–Ω–∏—è –¥—Ä—É–≥–∏—Ö."
    )
}

# =====================
# –û–¢–ü–†–ê–í–ö–ê –°–¶–ï–ù
# =====================

async def send_node(message: Message, node_id: str):
    user = get_user_state(message.from_user.id)

    # --- –ï—Å–ª–∏ —ç—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –∫–æ—Ç–∞ ---
    if node_id in CAT_ACTIONS:
        await message.answer(CAT_ACTIONS[node_id])
        user["node"] = "cat_hub"  # –æ—Å—Ç–∞—ë–º—Å—è –≤ —Ö–∞–±–µ –∫–æ—Ç–∞
        await message.answer(
            "–í—ã –º–æ–∂–µ—Ç–µ –≤—ã–±—Ä–∞—Ç—å –µ—â—ë —á—Ç–æ-—Ç–æ:",
            reply_markup=node_keyboard(NODES["cat_hub"]["actions"])
        )
        return

    # --- –ï—Å–ª–∏ —ç—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –¥–µ—Ä–µ–≤–∞ ---
    if node_id in TREE_ACTIONS:
        await message.answer(TREE_ACTIONS[node_id])
        user["node"] = "tree_question_1"  # –æ—Å—Ç–∞–≤–ª—è–µ–º –≤ —Ç–µ–∫—É—â–µ–π –Ω–æ–¥–µ –¥–µ—Ä–µ–≤–∞
        await message.answer(
            "–í—ã –º–æ–∂–µ—Ç–µ –≤—ã–±—Ä–∞—Ç—å –µ—â—ë —á—Ç–æ-—Ç–æ:",
            reply_markup=node_keyboard(NODES["tree_question_1"]["actions"])
        )
        return

    # --- –£–∑–µ–ª –∏–∑ NODES ---
    node = NODES.get(node_id)
    if not node:
        await message.answer("–ß—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫‚Ä¶ üå´")
        return

    # --- —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ç–µ–∫—É—â–∏–π —É–∑–µ–ª ---
    user["node"] = node_id

    # --- —Å—é–∂–µ—Ç–Ω—ã–µ –ø—Ä–µ–¥–º–µ—Ç—ã ---
    if node_id == "cat_hub":
        add_item(user, "üå∏ –¶–≤–µ—Ç–æ–∫ —Ç–∏—à–∏–Ω—ã")
    if node_id == "puppy_take":
        add_item(user, "üê∂ –©–µ–Ω–æ–∫")

    # --- –æ—Ç–ø—Ä–∞–≤–∫–∞ —Ç–µ–∫—Å—Ç–∞ –∏ –∫–Ω–æ–ø–æ–∫ ---
    await message.answer(
        node["text"],
        reply_markup=node_keyboard(node.get("actions", {}))
    )
